!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jSuites=t()}(this,function(){"use strict";var e={};"undefined"!=typeof document&&!document.jsuitesComponents&&(document.jsuitesComponents=[],t=function(e,n){return!!e[n.type]&&e[n.type]==n||!!e.component&&e.component==n||!!e.parentNode&&t(e.parentNode,n)},n=function(e){if(document.jsuitesComponents&&document.jsuitesComponents.length>0)for(var n=0;n<document.jsuitesComponents.length;n++)document.jsuitesComponents[n]&&!t(e,document.jsuitesComponents[n])&&document.jsuitesComponents[n].close()},i=null,a=!1,o={x:null,y:null},(r=document.createElement("div")).classList.add("jtooltip"),s=function(t){var o=e.findElement(t.target,"jpanel");if(o&&!o.classList.contains("readonly")){o.focus();var r=t.target.getBoundingClientRect();a={e:o,x:t.clientX,y:t.clientY,w:r.width,h:r.height,d:o.style.cursor,resizing:!!o.style.cursor,actioned:!1},o.style.width||(o.style.width=r.width+"px"),o.style.height||(o.style.height=r.height+"px");var s=window.getSelection();if(s.rangeCount)for(var l=0;l<s.rangeCount;l++)s.removeRange(s.getRangeAt(l));t.preventDefault(),t.stopPropagation()}else a=!1;if(t.changedTouches&&t.changedTouches[0])var d=t.changedTouches[0].clientX,c=t.changedTouches[0].clientY;else var d=t.clientX,c=t.clientY;var u=t.path||t.composedPath&&t.composedPath();if(u)i=u[0];else{if(t.target&&t.target.shadowRoot)var p=t.target.shadowRoot;else var p=document;i=p.elementFromPoint(d,c)}n(i)},l=function(e){a&&a.e&&("function"==typeof a.e.refresh&&o.actioned&&a.e.refresh(),a.e.style.cursor=""),o={x:null,y:null},a=!1},d=function(t){if(a){var n=t.clientX||t.pageX,i=t.clientY||t.pageY;if(a.resizing){var r=null,s=null;if("e-resize"==a.d||"ne-resize"==a.d||"se-resize"==a.d){if(r=a.w+(n-a.x),a.e.style.width=r+"px",t.shiftKey){var l=(n-a.x)*(a.h/a.w);s=a.h+l,a.e.style.height=s+"px"}else var l=!1}l||"s-resize"!=a.d&&"se-resize"!=a.d&&"sw-resize"!=a.d||(s=a.h+(i-a.y),a.e.style.height=s+"px"),"function"==typeof a.e.refresh&&(o.actioned=!0,a.e.refresh("dimensions",r,s))}else{null==o.x&&null==o.y&&(o.x=n,o.y=i);var d=n-o.x,c=i-o.y,u=a.e.offsetTop+c,p=a.e.offsetLeft+d;a.e.style.top=u+"px",a.e.style.left=p+"px",a.e.style.cursor="move",o.x=n,o.y=i,"function"==typeof a.e.refresh&&(o.actioned=!0,a.e.refresh("position",u,p))}}else{var f=e.findElement(t.target,"jpanel");if(f&&f.getAttribute("tabindex")){var h=f.getBoundingClientRect();t.clientY-h.top<15?h.width-(t.clientX-h.left)<15?f.style.cursor="ne-resize":t.clientX-h.left<15?f.style.cursor="nw-resize":f.style.cursor="n-resize":h.height-(t.clientY-h.top)<15?h.width-(t.clientX-h.left)<15?f.style.cursor="se-resize":t.clientX-h.left<15?f.style.cursor="sw-resize":f.style.cursor="s-resize":h.width-(t.clientX-h.left)<15?f.style.cursor="e-resize":t.clientX-h.left<15?f.style.cursor="w-resize":f.style.cursor=""}}},c=function(e){var t=e.target.getAttribute("data-tooltip");if(t){if(r.innerText=t,e.changedTouches&&e.changedTouches[0])var n=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY;else var n=e.clientX,i=e.clientY;r.style.top=i+"px",r.style.left=n+"px",document.body.appendChild(r)}else r.innerText&&(r.innerText="",document.body.removeChild(r))},u=function(t){var n=e.findElement(t.target,"jpanel");n&&"function"==typeof n.dblclick&&n.dblclick(t)},p=function(t){var n=document.activeElement;if(n&&"function"==typeof n.contextmenu)n.contextmenu(t),t.preventDefault(),t.stopImmediatePropagation();else if(n=e.findElement(t.target,function(e){return e.tagName&&e.getAttribute("aria-contextmenu-id")})){var i=document.querySelector("#"+n);i?(i.contextmenu.open(t),t.preventDefault(),t.stopImmediatePropagation()):console.error("JSUITES: contextmenu id not found: "+n)}},f=function(e){var t=document.activeElement;t&&"Delete"==e.key&&"function"==typeof t.delete&&(t.delete(),e.preventDefault(),e.stopImmediatePropagation()),document.jsuitesComponents&&document.jsuitesComponents.length&&(t=document.jsuitesComponents[document.jsuitesComponents.length-1])&&"Escape"==e.key&&"function"==typeof t.isOpened&&"function"==typeof t.close&&t.isOpened()&&(t.close(),e.preventDefault(),e.stopImmediatePropagation())},document.addEventListener("mouseup",l),document.addEventListener("mousedown",s),document.addEventListener("mousemove",d),document.addEventListener("mouseover",c),document.addEventListener("dblclick",u),document.addEventListener("keydown",f),document.addEventListener("contextmenu",p)),e.version="4.17.5",e.setExtensions=function(t){if("object"==typeof t)for(var n=Object.keys(t),i=0;i<n.length;i++)e[n[i]]=t[n[i]]},e.tracking=function(e,t){if(!0==t)document.jsuitesComponents=document.jsuitesComponents.filter(function(e){return null!==e}),setTimeout(function(){document.jsuitesComponents.push(e)},0);else{var n=document.jsuitesComponents.indexOf(e);n>=0&&document.jsuitesComponents.splice(n,1)}},e.path=function(e,t){if((e=e.split(".")).length){for(var n=this,i=null;e.length>1;)if(i=e.shift(),n.hasOwnProperty(i))n=n[i];else{if(void 0===t)return;n[i]={},n=n[i]}if(i=e.shift(),void 0!==t)return n[i]=t,!0;if(n)return n[i]}return!1},e.setDictionary=function(t){document.dictionary||(document.dictionary={});for(var n=Object.keys(t),i=0;i<n.length;i++)document.dictionary[n[i]]=t[n[i]];for(var a=null,i=0;i<e.calendar.weekdays.length;i++)a=e.translate(e.calendar.weekdays[i]),e.calendar.weekdays[i]&&(e.calendar.weekdays[i]=a,e.calendar.weekdaysShort[i]=a.substr(0,3));for(var i=0;i<e.calendar.months.length;i++)(a=e.translate(e.calendar.months[i]))&&(e.calendar.months[i]=a,e.calendar.monthsShort[i]=a.substr(0,3))},e.translate=function(e){return"undefined"!=typeof document&&document.dictionary&&document.dictionary[e]||e},e.ajax=function(t,n){if(Array.isArray(t)){var i={instance:[],complete:n};if(t.length>0)for(var a=0;a<t.length;a++)t[a].multiple=i,i.instance.push(e.ajax(t[a]));return i}if(t.data||(t.data={}),t.type&&(t.method=t.type),t.method||(t.method="GET"),t.dataType||(t.dataType="json"),t.data){var o=function(e,t){var n=[];if(e){var i=Object.keys(e);if(i.length)for(var a=0;a<i.length;a++){if(t)var r=t+"["+i[a]+"]";else var r=i[a];if(e[r]instanceof FileList)n[r]=e[i[a]];else if(null===e[i[a]]||void 0===e[i[a]])n[r]="";else if("object"==typeof e[i[a]])for(var s=o(e[i[a]],r),l=Object.keys(s),d=0;d<l.length;d++)n[l[d]]=s[l[d]];else n[r]=e[i[a]]}}return n},r=o(t.data),s=Object.keys(r);if("GET"==t.method){if(s.length){for(var l=[],a=0;a<s.length;a++)l.push(s[a]+"="+encodeURIComponent(r[s[a]]));0>t.url.indexOf("?")&&(t.url+="?"),t.url+=l.join("&")}}else for(var l=new FormData,a=0;a<s.length;a++)if(r[s[a]]instanceof FileList){if(r[s[a]].length)for(var d=0;d<r[s[a]].length;d++)l.append(s[a],r[s[a]][d],r[s[a]][d].name)}else l.append(s[a],r[s[a]])}var c=new XMLHttpRequest;return c.open(t.method,t.url,!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.contentType&&c.setRequestHeader("Content-Type",t.contentType),"POST"==t.method?c.setRequestHeader("Accept","application/json"):"blob"==t.dataType?c.responseType="blob":t.contentType||("json"==t.dataType?c.setRequestHeader("Content-Type","text/json"):"html"==t.dataType&&c.setRequestHeader("Content-Type","text/html")),!0!=t.cache&&(c.setRequestHeader("pragma","no-cache"),c.setRequestHeader("cache-control","no-cache")),!0==t.withCredentials&&(c.withCredentials=!0),"function"==typeof t.beforeSend&&t.beforeSend(c),"function"==typeof e.ajax.beforeSend&&e.ajax.beforeSend(c),document.ajax&&"function"==typeof document.ajax.beforeSend&&document.ajax.beforeSend(c),c.onload=function(){if(200===c.status){if("json"==t.dataType)try{var n=JSON.parse(c.responseText);t.success&&"function"==typeof t.success&&t.success(n)}catch(i){t.error&&"function"==typeof t.error&&t.error(i,n)}else{if("blob"==t.dataType)var n=c.response;else var n=c.responseText;t.success&&"function"==typeof t.success&&t.success(n)}}else t.error&&"function"==typeof t.error&&t.error(c.responseText,c.status);if(e.ajax.queue&&e.ajax.queue.length>0&&e.ajax.send(e.ajax.queue.shift()),e.ajax.requests&&e.ajax.requests.length){var a=e.ajax.requests.indexOf(c);if(e.ajax.requests.splice(a,1),!e.ajax.requests.length&&t.complete&&"function"==typeof t.complete&&t.complete(n),t.group&&e.ajax.oncomplete&&"function"==typeof e.ajax.oncomplete[t.group]&&!e.ajax.pending(t.group)&&(e.ajax.oncomplete[t.group](),e.ajax.oncomplete[t.group]=null),t.multiple&&t.multiple.instance){var a=t.multiple.instance.indexOf(c);t.multiple.instance.splice(a,1),!t.multiple.instance.length&&t.multiple.complete&&"function"==typeof t.multiple.complete&&t.multiple.complete(n)}}},c.options=t,c.data=l,!0==t.queue&&e.ajax.requests.length>0?e.ajax.queue.push(c):e.ajax.send(c),c},e.ajax.send=function(t){t.data?Array.isArray(t.data)?t.send(t.data.join("&")):t.send(t.data):t.send(),e.ajax.requests.push(t)},e.ajax.exists=function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,!1),n.send(),n.status&&t(n.status)},e.ajax.pending=function(t){var n=0,i=e.ajax.requests;if(i&&i.length)for(var a=0;a<i.length;a++)(!t||t==i[a].options.group)&&n++;return n},e.ajax.oncomplete={},e.ajax.requests=[],e.ajax.queue=[],e.alert=function(t){800>e.getWindowWidth()&&e.dialog?e.dialog.open({title:"Alert",message:t}):alert(t)},e.animation={},e.animation.slideLeft=function(e,t,n){!0==t?(e.classList.add("slide-left-in"),setTimeout(function(){e.classList.remove("slide-left-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-left-out"),setTimeout(function(){e.classList.remove("slide-left-out"),"function"==typeof n&&n()},400))},e.animation.slideRight=function(e,t,n){!0==t?(e.classList.add("slide-right-in"),setTimeout(function(){e.classList.remove("slide-right-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-right-out"),setTimeout(function(){e.classList.remove("slide-right-out"),"function"==typeof n&&n()},400))},e.animation.slideTop=function(e,t,n){!0==t?(e.classList.add("slide-top-in"),setTimeout(function(){e.classList.remove("slide-top-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-top-out"),setTimeout(function(){e.classList.remove("slide-top-out"),"function"==typeof n&&n()},400))},e.animation.slideBottom=function(e,t,n){!0==t?(e.classList.add("slide-bottom-in"),setTimeout(function(){e.classList.remove("slide-bottom-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-bottom-out"),setTimeout(function(){e.classList.remove("slide-bottom-out"),"function"==typeof n&&n()},100))},e.animation.fadeIn=function(e,t){e.style.display="",e.classList.add("fade-in"),setTimeout(function(){e.classList.remove("fade-in"),"function"==typeof t&&t()},2e3)},e.animation.fadeOut=function(e,t){e.classList.add("fade-out"),setTimeout(function(){e.style.display="none",e.classList.remove("fade-out"),"function"==typeof t&&t()},1e3)},e.calendar=function(t,n){if(t.calendar)return t.calendar.setOptions(n,!0);var i={type:"calendar"};i.options={},i.date=null,i.setOptions=function(n,a){var o={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:e.calendar.monthsShort,monthsFull:e.calendar.months,weekdays:e.calendar.weekdays,textDone:e.translate("Done"),textReset:e.translate("Reset"),textUpdate:e.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null,controls:!0};for(var r in o)n&&n.hasOwnProperty(r)?i.options[r]=n[r]:(void 0===i.options[r]||!0===a)&&(i.options[r]=o[r]);if(!1==i.options.resetButton?l.style.display="none":l.style.display="",i.options.readonly?t.setAttribute("readonly","readonly"):t.removeAttribute("readonly"),i.options.placeholder?t.setAttribute("placeholder",i.options.placeholder):t.removeAttribute("placeholder"),e.isNumeric(i.options.value)&&i.options.value>0&&(i.options.value=e.calendar.numToDate(i.options.value),i.options.dataType="numeric"),l.innerHTML=i.options.textReset,d.innerHTML=i.options.textDone,x.innerHTML=i.options.textUpdate,t.setAttribute("data-mask",i.options.format.toLowerCase()),!i.options.value&&i.options.today)var s=e.calendar.now();else var s=i.options.value;return s&&(i.options.value=null,i.setValue(s)),i},i.open=function(n){if(!s.classList.contains("jcalendar-focus")&&!s.classList.contains("jcalendar-inline")){if(e.calendar.current=i,e.tracking(i,!0),i.getDays(),"year-month-picker"==i.options.type&&i.getMonths(),i.options.time&&(b.value=i.date[3],y.value=i.date[4]),s.classList.add("jcalendar-focus"),800>e.getWindowWidth()||i.options.fullscreen)s.classList.add("jcalendar-fullsize"),e.animation.slideBottom(u,1);else{s.classList.remove("jcalendar-fullsize");var a=t.getBoundingClientRect(),o=u.getBoundingClientRect();if(i.options.position)c.style.position="fixed",window.innerHeight<a.bottom+o.height?c.style.top=a.top-(o.height+2)+"px":c.style.top=a.top+a.height+2+"px",c.style.left=a.left+"px";else{if(window.innerHeight<a.bottom+o.height){var r=-1*(a.height+o.height+2);r+a.top<0&&(r=-1*(a.top+a.height)),c.style.top=r+"px"}else c.style.top="2px";if(window.innerWidth<a.left+o.width){var r=window.innerWidth-(a.left+o.width+20);c.style.left=r+"px"}else c.style.left="0px"}}"function"==typeof i.options.onopen&&i.options.onopen(t)}},i.close=function(n,a){if(s.classList.contains("jcalendar-focus")){if(!1!==a){var o=s.querySelector(".jcalendar-selected");if("string"==typeof a)var r=a;else if(!o||o.classList.contains("jcalendar-disabled"))var r=i.options.value;else var r=i.getValue();i.setValue(r)}n||"function"!=typeof i.options.onclose||i.options.onclose(t),s.classList.remove("jcalendar-focus"),e.tracking(i,!1),e.calendar.current=null}return i.options.value},i.prev=function(){"years"==i.options.mode?(i.date[0]=i.date[0]-12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])-1,i.getMonths()):(i.date[1]<2?(i.date[0]=i.date[0]-1,i.date[1]=12):i.date[1]=i.date[1]-1,i.getDays())},i.next=function(){"years"==i.options.mode?(i.date[0]=parseInt(i.date[0])+12,i.getYears()):"months"==i.options.mode?(i.date[0]=parseInt(i.date[0])+1,i.getMonths()):(i.date[1]>11?(i.date[0]=parseInt(i.date[0])+1,i.date[1]=1):i.date[1]=parseInt(i.date[1])+1,i.getDays())},i.setToday=function(){var e=new Date().toISOString().substr(0,10);return i.setValue(e),e},i.setValue=function(n){n||(n=""+n);var a=n,o=i.options.value;if(o!=a){if(a){i.setLabel(a,i.options);var r=a.split(" ");r[1]||(r[1]="00:00:00");var s=r[1].split(":"),r=r[0].split("-"),l=parseInt(r[0]),d=parseInt(r[1]),c=parseInt(r[2]),u=parseInt(s[0]),p=parseInt(s[1]);i.date=[l,d,c,u,p,0];var n=i.setLabel(a,i.options),f=e.calendar.now(new Date(l,d-1,c),!0);if(i.options.validRange){if(!i.options.validRange[0]||f>=i.options.validRange[0])var h=!0;else var h=!1;if(!i.options.validRange[1]||f<=i.options.validRange[1])var v=!0;else var v=!1;h&&v?(t.classList.remove("jcalendar_warning"),t.title=""):(t.classList.add("jcalendar_warning"),t.title=e.translate("Date outside the valid range"))}else t.classList.remove("jcalendar_warning"),t.title=""}else{i.date=null;var n="";t.classList.remove("jcalendar_warning"),t.title=""}i.options.value=a,"function"==typeof i.options.onchange&&i.options.onchange(t,a,o),t.value!=n&&(t.value=n,"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value}))}i.getDays(),"year-month-picker"==i.options.type&&i.getMonths()},i.getValue=function(){return i.date?i.options.time?e.two(i.date[0])+"-"+e.two(i.date[1])+"-"+e.two(i.date[2])+" "+e.two(i.date[3])+":"+e.two(i.date[4])+":"+e.two(0):e.two(i.date[0])+"-"+e.two(i.date[1])+"-"+e.two(i.date[2])+" "+e.two(0)+":"+e.two(0)+":"+e.two(0):""},i.update=function(e,t){if(e.classList.contains("jcalendar-disabled"));else{var n=s.querySelector(".jcalendar-selected");n&&n.classList.remove("jcalendar-selected"),e.classList.add("jcalendar-selected"),e.classList.contains("jcalendar-set-month")?(i.date[1]=t,i.date[2]=1):i.date[2]=e.innerText,i.options.time?(i.date[3]=b.value,i.date[4]=y.value):i.close()}r()},i.reset=function(){i.setValue(""),i.date=null,i.close(!1,!1)},i.getDays=function(){i.options.mode="days";var t=new Date,n=i.date&&e.isNumeric(i.date[0])?i.date[0]:parseInt(t.getFullYear()),a=i.date&&e.isNumeric(i.date[1])?i.date[1]:parseInt(t.getMonth())+1,o=i.date&&e.isNumeric(i.date[2])?i.date[2]:parseInt(t.getDate()),s=i.date&&e.isNumeric(i.date[3])?i.date[3]:parseInt(t.getHours()),l=i.date&&e.isNumeric(i.date[4])?i.date[4]:parseInt(t.getMinutes());i.date=[n,a,o,s,l,0],p.innerHTML=n,f.innerHTML=i.options.months[a-1];var d=t.getMonth()==a-1&&t.getFullYear()==n,c=t.getDate(),t=new Date(n,a,0,0,0),u=t.getDate(),t=new Date(n,a-1,0,0,0),h=t.getDay()+1,$=i.options.startingDay||0;h-=$,v.innerHTML="";var m=document.createElement("tr");m.setAttribute("align","center"),v.appendChild(m);for(var x=0;x<7;x++){var b=document.createElement("td");b.classList.add("jcalendar-weekday"),b.innerHTML=i.options.weekdays[$].substr(0,1),m.appendChild(b),++$>6&&($=0)}for(var $=0,y=0,_=0;_<6;_++){var m=document.createElement("tr");m.setAttribute("align","center"),m.style.height="34px";for(var x=0;x<7;x++){var b=document.createElement("td");if(b.classList.add("jcalendar-set-day"),$>=h&&$<h+u){y++,b.innerHTML=y,y==o&&b.classList.add("jcalendar-selected"),d&&c==y&&(b.style.fontWeight="bold");var w=e.calendar.now(new Date(n,a-1,y),!0);if(i.options.validRange){if(!i.options.validRange[0]||w>=i.options.validRange[0])var L=!0;else var L=!1;if(!i.options.validRange[1]||w<=i.options.validRange[1])var j=!0;else var j=!1;L&&j||b.classList.add("jcalendar-disabled")}}m.appendChild(b),$++}v.appendChild(m)}i.options.time?g.style.display="":g.style.display="none",r()},i.getMonths=function(){i.options.mode="months";var t=i.options.months;i.options.value;var n=new Date,a=parseInt(n.getFullYear()),o=parseInt(n.getMonth())+1,s=i.date&&e.isNumeric(i.date[0])?i.date[0]:a,l=i.date&&e.isNumeric(i.date[1])?i.date[1]:o;p.innerHTML=i.date[0],f.innerHTML=t[l-1];var d=document.createElement("table");d.setAttribute("width","100%");for(var c=null,u=0;u<12;u++){if(!(u%4)){var c=document.createElement("tr");c.setAttribute("align","center"),d.appendChild(c)}var h=document.createElement("td");if(h.classList.add("jcalendar-set-month"),h.setAttribute("data-value",u+1),h.innerText=t[u],i.options.validRange){var $=s+"-"+e.two(u+1);if(!i.options.validRange[0]||$>=i.options.validRange[0].substr(0,7))var g=!0;else var g=!1;if(!i.options.validRange[1]||$<=i.options.validRange[1].substr(0,7))var m=!0;else var m=!1;g&&m||h.classList.add("jcalendar-disabled")}u+1==l&&h.classList.add("jcalendar-selected"),a==s&&u+1==o&&(h.style.fontWeight="bold"),c.appendChild(h)}v.innerHTML='<tr><td colspan="7"></td></tr>',v.children[0].children[0].appendChild(d),r()},i.getYears=function(){i.options.mode="years";for(var t=new Date,n=t.getFullYear(),a=i.date&&e.isNumeric(i.date[0])?i.date[0]:parseInt(t.getFullYear()),o=[],s=0;s<25;s++)o[s]=parseInt(i.date[0])+(s-12);var l=document.createElement("table");l.setAttribute("width","100%");for(var s=0;s<25;s++){if(!(s%5)){var d=document.createElement("tr");d.setAttribute("align","center"),l.appendChild(d)}var c=document.createElement("td");c.classList.add("jcalendar-set-year"),c.innerText=o[s],a==o[s]&&c.classList.add("jcalendar-selected"),n==o[s]&&(c.style.fontWeight="bold"),d.appendChild(c)}v.innerHTML='<tr><td colspan="7"></td></tr>',v.firstChild.firstChild.appendChild(l),r()},i.setLabel=function(t,n){return e.calendar.getDateString(t,n)},i.fromFormatted=function(t,n){return e.calendar.extractDateFromString(t,n)};var a=function(t){if(e.findElement(t.target,"jcalendar-container")){var n=t.target.className;if("jcalendar-prev"==n)i.prev();else if("jcalendar-next"==n)i.next();else if("jcalendar-month"==n)i.getMonths();else if("jcalendar-year"==n)i.getYears();else if("jcalendar-set-year"==n)i.date[0]=t.target.innerText,"year-month-picker"==i.options.type?i.getMonths():i.getDays();else if(t.target.classList.contains("jcalendar-set-month")){var a=parseInt(t.target.getAttribute("data-value"));"year-month-picker"==i.options.type?i.update(t.target,a):(i.date[1]=a,i.getDays())}else"jcalendar-confirm"==n||"jcalendar-update"==n||"jcalendar-close"==n?i.close():"jcalendar-backdrop"==n?i.close(!1,!1):"jcalendar-reset"==n?i.reset():t.target.classList.contains("jcalendar-set-day")&&t.target.innerText&&i.update(t.target)}else i.close()},o=function(t){if(t.target.value&&t.target.value.length>3){var n=e.calendar.extractDateFromString(t.target.value,i.options.format);n&&i.setValue(n)}},r=function(){var e=s.querySelector(".jcalendar-selected");e&&e.classList.contains("jcalendar-disabled")?(x.setAttribute("disabled","disabled"),b.setAttribute("disabled","disabled"),y.setAttribute("disabled","disabled")):(x.removeAttribute("disabled"),b.removeAttribute("disabled"),y.removeAttribute("disabled")),"function"==typeof i.options.onupdate&&i.options.onupdate(t,i.getValue())},s=null,l=null,d=null,c=null,u=null,p=null,f=null,h=null,v=null,$=null,g=null,m=null,x=null,b=null,y=null;return function(){"INPUT"==t.tagName&&t.value&&(n.value=t.value),(l=document.createElement("div")).className="jcalendar-reset",(d=document.createElement("div")).className="jcalendar-confirm",($=document.createElement("div")).className="jcalendar-controls",$.style.borderBottom="1px solid #ddd",$.appendChild(l),$.appendChild(d),(c=document.createElement("div")).className="jcalendar-container",(u=document.createElement("div")).className="jcalendar-content",c.appendChild(u),"DIV"==t.tagName?(s=t).classList.add("jcalendar-inline"):(u.appendChild($),(s=document.createElement("div")).className="jcalendar"),s.classList.add("jcalendar-container"),s.appendChild(c);var r=document.createElement("div");r.className="jcalendar-table",u.appendChild(r);var _=document.createElement("td");_.setAttribute("colspan","2"),_.className="jcalendar-prev",(p=document.createElement("span")).className="jcalendar-year",(f=document.createElement("span")).className="jcalendar-month";var w=document.createElement("td");w.className="jcalendar-header",w.setAttribute("colspan","3"),w.appendChild(f),w.appendChild(p);var L=document.createElement("td");L.setAttribute("colspan","2"),L.className="jcalendar-next";var j=document.createElement("thead"),C=document.createElement("tr");C.appendChild(_),C.appendChild(w),C.appendChild(L),j.appendChild(C),h=document.createElement("table"),v=document.createElement("tbody"),h.setAttribute("cellpadding","0"),h.setAttribute("cellspacing","0"),h.appendChild(j),h.appendChild(v),r.appendChild(h),(b=document.createElement("select")).className="jcalendar-select",b.onchange=function(){i.date[3]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(t,i.getValue())};for(var E=0;E<24;E++){var T=document.createElement("option");T.value=E,T.innerHTML=e.two(E),b.appendChild(T)}(y=document.createElement("select")).className="jcalendar-select",y.onchange=function(){i.date[4]=this.value,"function"==typeof i.options.onupdate&&i.options.onupdate(t,i.getValue())};for(var E=0;E<60;E++){var T=document.createElement("option");T.value=E,T.innerHTML=e.two(E),y.appendChild(T)}var k=document.createElement("div");k.className="jcalendar-controls",(g=document.createElement("div")).className="jcalendar-time",g.style.maxWidth="140px",g.appendChild(b),g.appendChild(y),(x=document.createElement("button")).setAttribute("type","button"),x.className="jcalendar-update",(m=document.createElement("div")).style.flexGrow="10",m.appendChild(x),k.appendChild(g),"INPUT"==t.tagName&&k.appendChild(m),u.appendChild(k);var A=document.createElement("div");A.className="jcalendar-backdrop",s.appendChild(A),t.addEventListener("keyup",o),s.addEventListener("swipeleft",function(t){e.animation.slideLeft(h,0,function(){i.next(),e.animation.slideRight(h,1)}),t.preventDefault(),t.stopPropagation()}),s.addEventListener("swiperight",function(t){e.animation.slideRight(h,0,function(){i.prev(),e.animation.slideLeft(h,1)}),t.preventDefault(),t.stopPropagation()}),"ontouchend"in document.documentElement==!0?(s.addEventListener("touchend",a),t.addEventListener("touchend",i.open)):(s.addEventListener("mouseup",a),t.addEventListener("mouseup",i.open)),e.calendar.hasEvents||(e.calendar.hasEvents=!0,document.addEventListener("keydown",e.calendar.keydown)),i.setOptions(n),"INPUT"==t.tagName?(t.parentNode.insertBefore(s,t.nextSibling),t.setAttribute("autocomplete","off"),t.classList.add("jcalendar-input"),t.value=i.setLabel(i.getValue(),i.options)):(i.getDays(),i.options.time&&(b.value=i.date[3],y.value=i.date[4])),!0==i.options.opened&&i.open(),!1==i.options.controls&&c.classList.add("jcalendar-hide-controls"),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.calendar=s.calendar=i}(),i},e.calendar.keydown=function(t){var n=null;(n=e.calendar.current)&&(13==t.which?n.close(!1,!0):27==t.which&&n.close(!1,!1))},e.calendar.prettify=function(e,t){if(!t)var t={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"};var n=new Date,i=new Date(e),a=parseInt((n-i)/1e3/60);if(String.prototype.format=function(e){return this.replace("{0}",e)},0==a)var o=t.justNow;else if(a<90)var o=t.xMinutesAgo.format(a);else if(a<1440)var o=t.xHoursAgo.format(Math.round(a/60));else if(a<20160)var o=t.xDaysAgo.format(Math.round(a/1440));else if(a<43200)var o=t.xWeeksAgo.format(Math.round(a/10080));else if(a<1036800)var o=t.xMonthsAgo.format(Math.round(a/43200));else var o=t.xYearsAgo.format(Math.round(a/525600));return o},e.calendar.prettifyAll=function(){for(var t=document.querySelectorAll(".prettydate"),n=0;n<t.length;n++)t[n].getAttribute("data-date")?t[n].innerHTML=e.calendar.prettify(t[n].getAttribute("data-date")):t[n].innerHTML&&(t[n].setAttribute("title",t[n].innerHTML),t[n].setAttribute("data-date",t[n].innerHTML),t[n].innerHTML=e.calendar.prettify(t[n].innerHTML))},e.calendar.now=function(t,n){if(Array.isArray(t))var i=t[0],a=t[1],o=t[2],r=t[3],s=t[4],l=t[5];else{if(!t)var t=new Date;var i=t.getFullYear(),a=t.getMonth()+1,o=t.getDate(),r=t.getHours(),s=t.getMinutes(),l=t.getSeconds()}return!0==n?e.two(i)+"-"+e.two(a)+"-"+e.two(o):e.two(i)+"-"+e.two(a)+"-"+e.two(o)+" "+e.two(r)+":"+e.two(s)+":"+e.two(l)},e.calendar.toArray=function(e){var t=e.split(-1!==e.indexOf("T")?"T":" "),n=t[1],t=t[0].split("-"),i=parseInt(t[0]),a=parseInt(t[1]),o=parseInt(t[2]);if(n)var n=n.split(":"),r=parseInt(n[0]),s=parseInt(n[1]);else var r=0,s=0;return[i,a,o,r,s,0]},e.calendar.extractDateFromString=function(t,n){var i=e.mask(t,{mask:n},!0);if(t>0&&Number(t)==t&&(i.values.join("")!==i.value||"numeric"==i.type)){var a=new Date(Math.round((t-25569)*864e5));return a.getFullYear()+"-"+e.two(a.getMonth())+"-"+e.two(a.getDate())+" 00:00:00"}var o=!1;return(i.values.length===i.tokens.length&&i.values[i.values.length-1].length>=i.tokens[i.tokens.length-1].length&&(o=!0),i.date[0]&&i.date[1]&&(i.date[2]||o))?(i.date[2]||(i.date[2]=1),i.date[0]+"-"+e.two(i.date[1])+"-"+e.two(i.date[2])+" "+e.two(i.date[3])+":"+e.two(i.date[4])+":"+e.two(i.date[5])):""};var t,n,i,a,o,r,s,l,d,c,u,p,f,h,v,$,g,m,x,b,y,_,w,L,j,C,E,T,k,A,M,N,O,D,H,F,S,I,R,Y,V,B,P,W,z,q=Date.UTC(1900,0,0),U=Date.UTC(1900,1,29);return e.calendar.dateToNum=function(e){"string"==typeof e&&(e=new Date(e+"  GMT+0"));var t=e.getTime();return t>=U&&(t+=864e5),(t-=q)/864e5},e.calendar.numToDate=function(t){var n=q+864e5*t;n>=U&&(n-=864e5);let i=new Date(n);var a=[i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),];return e.calendar.now(a)},e.calendar.getDateString=function(t,n){if(!n)var n={};if(n)var i=n.format;else var i=n;if(i||(i="YYYY-MM-DD"),i.indexOf("[h]")>=0){var a=0;if(t&&e.isNumeric(t)&&(a=parseFloat(24*Number(t)),i.indexOf("mm")>=0)){var o=(""+a).split(".");if(o[1]){var r=60*parseFloat("0."+o[1]);r=parseFloat(r.toFixed(2))}else var r=0;a=parseInt(o[0])+":"+e.two(r)}return a}t instanceof Date?t=e.calendar.now(t):t&&e.isNumeric(t)&&(t=e.calendar.numToDate(t));for(var s=RegExp("DAY|WD|DDDD|DDD|DD|D|Q|HH24|HH12|HH|H|AM/PM|MI|SS|MS|YYYY|YYY|YY|Y|MONTH|MON|MMMMM|MMMM|MMM|MM|M|.","gi"),l=i.match(s),d=0;d<l.length;d++)"MM"==l[d].toUpperCase()&&(l[d-1]&&l[d-1].toUpperCase().indexOf("H")>=0?l[d]="mi":l[d-2]&&l[d-2].toUpperCase().indexOf("H")>=0?l[d]="mi":l[d+1]&&l[d+1].toUpperCase().indexOf("S")>=0?l[d]="mi":l[d+2]&&l[d+2].toUpperCase().indexOf("S")>=0&&(l[d]="mi"));var c={tokens:l};if(t){var r=""+t,u=-1!==r.indexOf("T")?"T":" ";r=r.split(u);var o=0,p=0,f=0;if(r[1]&&(p=(o=r[1].split(":"))[1]?o[1]:0,f=o[2]?o[2]:0,o=o[0]?o[0]:0),(r=r[0].split("-"))[0]&&r[1]&&r[2]&&r[0]>0&&r[1]>0&&r[1]<13&&r[2]>0&&r[2]<32){c.data=[r[0],r[1],r[2],o,p,f],c.value=[];for(var h=new Date(c.data[0],c.data[1]-1,c.data[2],c.data[3],c.data[4],c.data[5]),v=function(t){var n=this.tokens[t],i=n.toUpperCase(),a=null;"YYYY"===i?a=this.data[0]:"YYY"===i?a=this.data[0].substring(1,4):"YY"===i?a=this.data[0].substring(2,4):"Y"===i?a=this.data[0].substring(3,4):"MON"===n?a=e.calendar.months[h.getMonth()].substr(0,3).toUpperCase():"mon"===n?a=e.calendar.months[h.getMonth()].substr(0,3).toLowerCase():"MONTH"===n?a=e.calendar.months[h.getMonth()].toUpperCase():"month"===n?a=e.calendar.months[h.getMonth()].toLowerCase():"MMMMM"===i?a=e.calendar.months[h.getMonth()].substr(0,1):"MMMM"===i||"Month"===n?a=e.calendar.months[h.getMonth()]:"MMM"===i||"Mon"==n?a=e.calendar.months[h.getMonth()].substr(0,3):"MM"===i?a=e.two(this.data[1]):"M"===i?a=h.getMonth()+1:"DAY"===n?a=e.calendar.weekdays[h.getDay()].toUpperCase():"day"===n?a=e.calendar.weekdays[h.getDay()].toLowerCase():"DDDD"===i||"Day"==n?a=e.calendar.weekdays[h.getDay()]:"DDD"===i?a=e.calendar.weekdays[h.getDay()].substr(0,3):"DD"===i?a=e.two(this.data[2]):"D"===i?a=this.data[2]:"Q"===i?a=Math.floor((h.getMonth()+3)/3):"HH24"===i||"HH"===i?a=e.two(this.data[3]):"HH12"===i?a=this.data[3]>12?e.two(this.data[3]-12):e.two(this.data[3]):"H"===i?a=this.data[3]:"MI"===i?a=e.two(this.data[4]):"SS"===i?a=e.two(this.data[5]):"MS"===i?a=h.getMilliseconds():"AM/PM"===i?a=this.data[3]>=12?"PM":"AM":"WD"===i&&(a=e.calendar.weekdays[h.getDay()]),null===a?this.value[t]=this.tokens[t]:this.value[t]=a},d=0;d<c.tokens.length;d++)v.call(c,d);t=c.value.join("")}else t=""}return t},e.calendar.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.calendar.months=["January","February","March","April","May","June","July","August","September","October","November","December"],e.calendar.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e.calendar.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.color=function(t,n){if(t.color)return t.color.setOptions(n,!0);var i={type:"color"};i.options={};var a=null,o=null,r=null,s=null,l=null,d=null,c=null;i.setOptions=function(n,a){var o={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};for(var r in n||(n={}),n&&!n.palette&&(n.palette=e.palette()),o)n&&n.hasOwnProperty(r)?i.options[r]=n[r]:(void 0===i.options[r]||!0===a)&&(i.options[r]=o[r]);return s&&(s.innerHTML=i.options.resetLabel),l&&(l.innerHTML=i.options.doneLabel),i.options.palette&&c&&c.updateContent(0,v()),"string"==typeof i.options.value&&(t.value=i.options.value,"INPUT"===t.tagName&&(t.style.color=t.value,t.style.backgroundColor=t.value)),i.options.placeholder?t.setAttribute("placeholder",i.options.placeholder):t.getAttribute("placeholder")&&t.removeAttribute("placeholder"),i},i.select=function(e){var t=a.querySelector(".jcolor-selected");t&&t.classList.remove("jcolor-selected"),i.values[e]&&i.values[e].classList.add("jcolor-selected"),i.options.value=e},i.open=function(){if(!a.classList.contains("jcolor-focus")){e.tracking(i,!0),a.classList.add("jcolor-focus"),i.options.value&&i.select(i.options.value),r.style.marginTop="",r.style.marginLeft="";var n=r.getBoundingClientRect(),s=e.getWindowWidth(),l=e.getWindowHeight();if(s<800||!0==i.options.fullscreen?(r.classList.add("jcolor-fullscreen"),e.animation.slideBottom(r,1),o.style.display="block"):(r.classList.contains("jcolor-fullscreen")&&(r.classList.remove("jcolor-fullscreen"),o.style.display=""),i.options.position?r.style.position="fixed":r.style.position="",n.left+n.width>s&&(r.style.marginLeft=-1*(n.left+n.width-(s-20))+"px"),n.top+n.height>l&&(r.style.marginTop=-1*(n.top+n.height-(l-20))+"px")),"function"==typeof i.options.onopen&&i.options.onopen(t),c.setBorder(c.getActive()),i.options.value){var d=h(i.options.value);N.forEach(function(e,t){e.value=d[t],e.dispatchEvent(new Event("input"))})}}},i.close=function(n){return a.classList.contains("jcolor-focus")&&(a.classList.remove("jcolor-focus"),o.style.display="",n||"function"!=typeof i.options.onclose||i.options.onclose(t),e.tracking(i,!1)),i.options.value},i.setValue=function(e){e||(e=""),e!=i.options.value&&(i.options.value=e,M=e,i.select(e),"function"==typeof i.options.onchange&&i.options.onchange(t,e),t.value!=i.options.value&&(t.value=i.options.value,"INPUT"===t.tagName&&(t.style.color=t.value,t.style.backgroundColor=t.value),"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value})),!0==i.options.closeOnChange&&i.close())},i.getValue=function(){return i.options.value};var u=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},p=function(e,t,n){return"#"+u(e)+u(t)+u(n)},f=function(e){return parseInt("0x"+e)},h=function(e){return[f(e.substr(1,2)),f(e.substr(3,2)),f(e.substr(5,2))]},v=function(){var e=document.createElement("div");e.className="jcolor-grid",i.values=[];var t=document.createElement("table");t.setAttribute("cellpadding","7"),t.setAttribute("cellspacing","0");for(var n=0;n<i.options.palette.length;n++){for(var a=document.createElement("tr"),o=0;o<i.options.palette[n].length;o++){var r=document.createElement("td"),s=i.options.palette[n][o];s.length<7&&"#"!==s.substr(0,1)&&(s="#"+s),r.style.backgroundColor=s,r.setAttribute("data-value",s),r.innerHTML="",a.appendChild(r),i.options.value==s&&r.classList.add("jcolor-selected"),i.values[s]=r}t.appendChild(a)}return e.appendChild(t),e},$=document.createElement("canvas");$.width=200,$.height=160;var g,m,x,b,y,_,w,L,j,C,E,T=$.getContext("2d"),k=function(){var e=d.firstChild.getBoundingClientRect();$.width=e.width-14,A()},A=function(){var e=T.createLinearGradient(0,0,$.width,0);e.addColorStop(0,"rgb(255,0,0)"),e.addColorStop(.15,"rgb(255,0,255)"),e.addColorStop(.33,"rgb(0,0,255)"),e.addColorStop(.49,"rgb(0,255,255)"),e.addColorStop(.67,"rgb(0,255,0)"),e.addColorStop(.84,"rgb(255,255,0)"),e.addColorStop(1,"rgb(255,0,0)"),T.fillStyle=e,T.fillRect(0,0,$.width,$.height),(e=T.createLinearGradient(0,0,0,$.height)).addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(.5,"rgba(255,255,255,0)"),e.addColorStop(.5,"rgba(0,0,0,0)"),e.addColorStop(1,"rgba(0,0,0,1)"),T.fillStyle=e,T.fillRect(0,0,$.width,$.height)},M="",N=[],O=function(){if(""!==M)for(var e=0;e<N.length;e++){var t=h(M);t[e]=0;var n="linear-gradient(90deg, rgb(";n+=t.join(", "),n+="), rgb(",t[e]=255,n+=t.join(", "),n+="))",N[e].style.backgroundImage=n}};return i.toHex=function(e){var t=function(e){return("0"+parseInt(e).toString(16)).slice(-2)};if(e)return/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))&&e.length?"#"+t(e[1])+t(e[2])+t(e[3]):""},i.setOptions(n),"INPUT"==t.tagName&&(t.classList.add("jcolor-input"),t.readOnly=!0),(a=document.createElement("div")).className="jcolor",(o=document.createElement("div")).className="jcolor-backdrop",a.appendChild(o),(r=document.createElement("div")).className="jcolor-content",(g=document.createElement("div")).className="jcolor-controls",r.appendChild(g),(s=document.createElement("div")).className="jcolor-reset",s.innerHTML=i.options.resetLabel,g.appendChild(s),(l=document.createElement("div")).className="jcolor-close",l.innerHTML=i.options.doneLabel,g.appendChild(l),d=document.createElement("div"),r.appendChild(d),c=e.tabs(d,{animation:!0,data:[{title:"Grid",contentElement:v()},{title:"Spectrum",contentElement:(m=document.createElement("div"),m.className="jcolor-hsl",x=document.createElement("div"),x.className="jcolor-point",b=document.createElement("div"),b.appendChild($),b.appendChild(x),m.appendChild(b),y=function(e,t,n){if(1===e){var i=m.getBoundingClientRect(),a=t-i.left,o=n-i.top;a<0&&(a=0),o<0&&(o=0),a>i.width&&(a=i.width),o>i.height&&(o=i.height),x.style.left=a+"px",x.style.top=o+"px";var r=T.getImageData(a,o,1,1).data;M=p(r[0],r[1],r[2])}},m.addEventListener("mousedown",function(e){y(e.buttons,e.clientX,e.clientY)}),m.addEventListener("mousemove",function(e){y(e.buttons,e.clientX,e.clientY)}),m.addEventListener("touchmove",function(e){y(1,e.changedTouches[0].clientX,e.changedTouches[0].clientY)}),m)},{title:"Sliders",contentElement:(_=document.createElement("div"),_.className="jcolor-sliders",w=document.createElement("div"),L=function(e){var t=document.createElement("div");t.className="jcolor-sliders-input-container";var n=document.createElement("label");n.innerText=e;var i=document.createElement("div");i.className="jcolor-sliders-input-subcontainer";var a=document.createElement("input");a.type="range",a.min=0,a.max=255,a.value=0,t.appendChild(n),i.appendChild(a);var o=document.createElement("div");return o.innerText=a.value,a.addEventListener("input",function(){o.innerText=a.value}),i.appendChild(o),t.appendChild(i),w.appendChild(t),a},N=[L("Red"),L("Green"),L("Blue"),],_.appendChild(w),j=document.createElement("div"),j.className="jcolor-sliders-final-color",C=document.createElement("div"),C.style.visibility="hidden",C.innerText="a",j.appendChild(C),E=function(){var e=p(parseInt(N[0].value),parseInt(N[1].value),parseInt(N[2].value));C.innerText=e,C.style.color=e,C.style.removeProperty("visibility"),M=e},N.forEach(function(e){e.addEventListener("input",function(){E(),O()})}),_.appendChild(j),_)}],onchange:function(e,t,n){if(1===n)k();else{var a=""!==M?M:i.getValue();if(2===n&&a){var o=h(a);N.forEach(function(e,t){e.value=o[t],e.dispatchEvent(new Event("input"))})}}},palette:"modern"}),a.appendChild(r),"INPUT"==t.tagName?t.parentNode.insertBefore(a,t.nextSibling):t.appendChild(a),a.addEventListener("click",function(e){if("TD"==e.target.tagName){var t=e.target.getAttribute("data-value");t&&i.setValue(t)}else e.target.classList.contains("jcolor-reset")?(i.setValue(""),i.close()):e.target.classList.contains("jcolor-close")?(c.getActive()>0&&i.setValue(M),i.close()):e.target.classList.contains("jcolor-backdrop")?i.close():i.open()}),t.addEventListener("mouseup",function(e){i.open()}),window.addEventListener("resize",function(){a.classList.contains("jcolor-focus")&&1==c.getActive()&&k()}),!0==i.options.opened&&i.open(),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.color=i,a.color=i,i},e.contextmenu=function(t,n){var i={type:"contextmenu"};i.options={};var a={items:null,onclick:null};for(var o in a)n&&n.hasOwnProperty(o)?i.options[o]=n[o]:i.options[o]=a[o];function r(e){if(e.type&&("line"==e.type||"divisor"==e.type))var t=document.createElement("hr");else{var t=document.createElement("div"),n=document.createElement("a");if(n.innerHTML=e.title,e.tooltip&&t.setAttribute("title",e.tooltip),e.icon&&t.setAttribute("data-icon",e.icon),e.id&&(t.id=e.id),e.disabled?t.className="jcontextmenu-disabled":e.onclick&&(t.method=e.onclick,t.addEventListener("mousedown",function(e){e.preventDefault()}),t.addEventListener("mouseup",function(e){this.method(this,e)})),t.appendChild(n),e.submenu){var i=document.createElement("span");i.innerHTML="&#9658;",t.appendChild(i),t.classList.add("jcontexthassubmenu");var a=document.createElement("div");a.classList.add("jcontextmenu"),a.setAttribute("tabindex","900");for(var o=e.submenu,s=0;s<o.length;s++){var l=r(o[s]);a.appendChild(l)}t.appendChild(a)}else if(e.shortcut){var d=document.createElement("span");d.innerHTML=e.shortcut,t.appendChild(d)}}return t}return t.classList.add("jcontextmenu"),i.open=function(n,a){if(a&&(i.options.items=a,i.create(a)),e.contextmenu.current&&e.contextmenu.current.close(),e.tracking(i,!0),t.classList.add("jcontextmenu-focus"),e.contextmenu.current=i,i.options.items&&i.options.items.length>0||t.children.length){if(n.target){if(n.changedTouches&&n.changedTouches[0])o=n.changedTouches[0].clientX,r=n.changedTouches[0].clientY;else var o=n.clientX,r=n.clientY}else var o=n.x,r=n.y;var s=t.getBoundingClientRect();if(window.innerHeight<r+s.height){var l=r-s.height;l<0&&(l=0),t.style.top=l+"px"}else t.style.top=r+"px";window.innerWidth<o+s.width?o-s.width>0?t.style.left=o-s.width+"px":t.style.left="10px":t.style.left=o+"px"}},i.isOpened=function(){return!!t.classList.contains("jcontextmenu-focus")},i.close=function(){t.classList.contains("jcontextmenu-focus")&&t.classList.remove("jcontextmenu-focus"),e.tracking(i,!1)},i.create=function(n){t.innerHTML="";var a,o,s,l=(a=document.createElement("div"),a.classList.add("header"),a.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()}),o=document.createElement("a"),o.classList.add("title"),o.innerHTML=e.translate("Menu"),a.appendChild(o),s=document.createElement("a"),s.classList.add("close"),s.innerHTML=e.translate("close"),s.addEventListener("click",function(e){i.close()}),a.appendChild(s),a);t.appendChild(l);for(var d=0;d<n.length;d++){var c=r(n[d]);t.appendChild(c)}},"function"==typeof i.options.onclick&&t.addEventListener("click",function(e){i.options.onclick(i,e)}),i.options.items&&i.create(i.options.items),window.addEventListener("mousewheel",function(){i.close()}),t.contextmenu=i,i},e.dropdown=function(t,n){if(t.dropdown)return t.dropdown.setOptions(n,!0);var i={type:"dropdown"};i.options={};var a=function(e,n){e&&e.length&&(!1!==i.options.sortResults&&("function"==typeof i.options.sortResults?e.sort(i.options.sortResults):e.sort(o)),i.setData(e)),"function"==typeof i.options.onload&&i.options.onload(t,i,e,n),n&&s(n),null==n&&(i.options.value=""),t.value=i.options.value,!0==i.options.opened&&i.open()},o=function(e,t){var n,i;return("string"==typeof e?n=e:e.text?n=e.text:e.name&&(n=e.name),"string"==typeof t?i=t:t.text?i=t.text:t.name&&(i=t.name),"string"==typeof n||"string"==typeof i)?("string"!=typeof n&&(n=""+n),"string"!=typeof i&&(i=""+i),n.localeCompare(i)):n-i},r=function(){i.value={};for(var e=0;e<i.items.length;e++)!0==i.items[e].selected&&(i.items[e].element&&i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=null);i.options.value="",t.value=""},s=function(e){if(r(),null!==e){if(e){Array.isArray(e)||(e=(""+e).split(";"));for(var t=0;t<e.length;t++)i.value[e[t]]=""}else void 0!==i.value[""]&&(i.value[""]="")}for(var t=0;t<i.items.length;t++)void 0!==i.value[l(t)]&&(i.items[t].element&&i.items[t].element.classList.add("jdropdown-selected"),i.items[t].selected=!0,i.value[l(t)]=d(t));i.options.value=Object.keys(i.value).join(";"),i.header.value=i.getText()},l=function(e,t){if(i.options.format)var n="id";else var n="value";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},d=function(e,t){if(i.options.format)var n="name";else var n="text";return i.items[e]?void 0!==t?i.items[e].data[n]=t:i.items[e].data[n]:""},c=function(){return Object.keys(i.value)},u=function(){for(var e=[],t=Object.keys(i.value),n=0;n<t.length;n++)e.push(i.value[t[n]]);return e};i.setOptions=function(n,o){n||(n={});var r={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,sortResults:!1,autofocus:!1};for(var s in r)n&&n.hasOwnProperty(s)?i.options[s]=n[s]:(void 0===i.options[s]||!0===o)&&(i.options[s]=r[s]);return(!0==i.options.remoteSearch||"searchbar"===i.options.type)&&(i.options.autocomplete=!0),!0==i.options.newOptions?i.header.classList.add("jdropdown-add"):i.header.classList.remove("jdropdown-add"),!0==i.options.autocomplete?i.header.removeAttribute("readonly"):i.header.setAttribute("readonly","readonly"),i.options.placeholder?i.header.setAttribute("placeholder",i.options.placeholder):i.header.removeAttribute("placeholder"),t.classList.remove("jdropdown-searchbar"),t.classList.remove("jdropdown-picker"),t.classList.remove("jdropdown-list"),"searchbar"==i.options.type?t.classList.add("jdropdown-searchbar"):"list"==i.options.type?t.classList.add("jdropdown-list"):"picker"==i.options.type?t.classList.add("jdropdown-picker"):800>e.getWindowWidth()?i.options.autocomplete?(t.classList.add("jdropdown-searchbar"),i.options.type="searchbar"):(t.classList.add("jdropdown-picker"),i.options.type="picker"):(i.options.width?(t.style.width=i.options.width,t.style.minWidth=i.options.width):(t.style.removeProperty("width"),t.style.removeProperty("min-width")),t.classList.add("jdropdown-default"),i.options.type="default"),"searchbar"==i.options.type?p.appendChild(v):f.insertBefore(v,f.firstChild),i.options.url&&!n.data?e.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){e&&a(e,i.options.value)}}):a(i.options.data,i.options.value),i};var p=null,f=null,h=null,v=null,$=null,g=null,m=null;i.getUrl=function(){return i.options.url},i.setUrl=function(t,n){i.options.url=t,e.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){i.setData(e),"function"==typeof n&&n(i)}})},i.setId=function(e,t){if(i.options.format)var n="id";else var n="value";"object"==typeof e?e[n]=t:i.items[e].data[n]=t},i.add=function(t,n){if(!t){var a=!0==i.options.autocomplete?i.header.value:"",t=prompt(e.translate("Add A New Option"),a);if(!t)return!1}if(n||(n=e.guid()),i.options.format)var o={id:n,name:t};else var o={value:n,text:t};if("function"==typeof i.options.onbeforeinsert){var r=i.options.onbeforeinsert(i,o);if(!1===r)return!1;r&&(o=r)}i.options.data.push(o);var s=i.createItem(o);return h.appendChild(s.element),"function"==typeof i.options.oninsert&&i.options.oninsert(i,o,s),"none"==h.style.display&&(h.style.display=""),i.results&&i.results.push(s),o},i.createItem=function(e,t,n){i.options.format?(e.id||void 0===e.value||(e.id=e.value),e.name||void 0===e.text||(e.name=e.text)):(e.value||void 0===e.id||(e.value=e.id),e.text||void 0===e.name||(e.text=e.name));var a={};if(a.element=document.createElement("div"),a.element.className="jdropdown-item",a.element.indexValue=i.items.length,a.data=e,t&&(a.group=t),e.id&&a.element.setAttribute("id",e.id),!0==e.disabled&&a.element.setAttribute("data-disabled",!0),e.tooltip&&a.element.setAttribute("title",e.tooltip),e.image){var o=document.createElement("img");o.className="jdropdown-image",o.src=e.image,e.title||o.classList.add("jdropdown-image-small"),a.element.appendChild(o)}else if(e.icon){var r=document.createElement("span");r.className="jdropdown-icon material-icons",r.innerText=e.icon,e.title||r.classList.add("jdropdown-icon-small"),e.color&&(r.style.color=e.color),a.element.appendChild(r)}else if(e.color){var s=document.createElement("div");s.className="jdropdown-color",s.style.backgroundColor=e.color,a.element.appendChild(s)}if(i.options.format)var l=e.name;else var l=e.text;var d=document.createElement("div");if(d.className="jdropdown-description",d.innerHTML=l||"&nbsp;",e.title){var c=document.createElement("div");c.className="jdropdown-title",c.innerText=e.title,d.appendChild(c)}if(i.options.format)var u=e.id;else var u=e.value;return i.value[u]&&(a.element.classList.add("jdropdown-selected"),a.selected=!0),i.items.push(a),a.element.appendChild(d),a},i.appendData=function(e){if(e.length){for(var t=[],n=[],a=0;a<e.length;a++)e[a].group?(n[e[a].group]||(n[e[a].group]=[]),n[e[a].group].push(a)):t.push(a);var o=0,r=Object.keys(n);if(r.length>0)for(var a=0;a<r.length;a++){var s=document.createElement("div");s.className="jdropdown-group";var l=document.createElement("div");l.className="jdropdown-group-name",l.innerHTML=r[a];var d=document.createElement("i");d.className="jdropdown-group-arrow jdropdown-group-arrow-down",l.appendChild(d);var c=document.createElement("div");c.className="jdropdown-group-items";for(var u=0;u<n[r[a]].length;u++){var p=i.createItem(e[n[r[a]][u]],s,r[a]);(!1==i.options.lazyLoading||o<200)&&(c.appendChild(p.element),o++)}s.appendChild(l),s.appendChild(c),i.groups.push(s),c.children.length>0&&h.appendChild(s)}if(t.length)for(var a=0;a<t.length;a++){var p=i.createItem(e[t[a]]);(!1==i.options.lazyLoading||o<200)&&(h.appendChild(p.element),o++)}}},i.setData=function(e){if(r(),h.innerHTML="",i.header.value="",i.items=[],e&&e.length){for(var t=0;t<e.length;t++)"object"!=typeof e[t]&&(i.options.format?e[t]={id:e[t],name:e[t]}:e[t]={value:e[t],text:e[t]});i.appendData(e),i.options.data=e}else i.options.data=[];i.close()},i.getData=function(){return i.options.data},i.getPosition=function(e){for(var t=0;t<i.items.length;t++)if(l(t)==e)return t;return!1},i.getText=function(e){var t=u();return e?t:t.join("; ")},i.getValue=function(e){var t=c();return e?t:t.join(";")};var x=function(e){t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value})),"function"==typeof i.options.onchange&&i.options.onchange(t,i,e,i.options.value)};i.setValue=function(e){var t=i.getValue();Array.isArray(e)&&(e=e.join(";")),t!==e&&(s(e),x(t))},i.resetSelected=function(){i.setValue(null)},i.selectIndex=function(e,t){var e=parseInt(e);if(i.items&&i.items[e]&&(!0===t||!0!==i.items[e].data.disabled)){if(i.setCursor(e,!1),i.options.multiple){var n=i.options.value;i.items[e].selected?(i.items[e].element.classList.remove("jdropdown-selected"),i.items[e].selected=!1,delete i.value[l(e)]):(i.items[e].element.classList.add("jdropdown-selected"),i.items[e].selected=!0,i.value[l(e)]=d(e)),i.options.value=Object.keys(i.value).join(";"),!1==i.options.autocomplete&&(i.header.value=u().join("; ")),x(n)}else i.items[e].selected?i.setValue(null):i.setValue(l(e)),i.close()}},i.selectItem=function(e){i.selectIndex(e.indexValue)};var b=function(e,t){for(var n=0;n<t.length;n++)if(i.options.format){if(t[n].id==e)return!0}else if(t[n].value==e)return!0;return!1};return i.find=function(t){if(i.search==t.trim())return!1;if(i.search=t,i.setCursor(),i.groups.length)for(var n=0;n<i.groups.length;n++)i.groups[n].lastChild.innerHTML="";if(h.innerHTML="",!0==i.options.remoteSearch){i.results=null;var a=i.options.url+(i.options.url.indexOf("?")>0?"&":"?")+"q="+t;e.ajax({url:a,method:"GET",dataType:"json",success:function(e){i.items=[];var t=Object.keys(i.value);if(t.length)for(var n=0;n<t.length;n++)b(t[n],e)||(i.options.format?e.unshift({id:t[n],name:i.value[t[n]]}):e.unshift({value:t[n],text:i.value[t[n]]}));i.appendData(e),e.length?h.style.display="":h.style.display="none"}})}else{t=RegExp(t,"gi");for(var o=[],n=0;n<i.items.length;n++){var r=d(n),s=i.items[n].data.title||"",l=i.items[n].data.group||"",c=i.items[n].data.synonym||"";c&&(c=c.join(" ")),(null==t||!0==i.items[n].selected||r.match(t)||s.match(t)||l.match(t)||c.match(t))&&o.push(i.items[n])}if(o.length){h.style.display="",i.results=o;var u=o.length||0;!0==i.options.lazyLoading&&u>200&&(u=200);for(var n=0;n<u;n++)i.results[n].group?(i.results[n].group.parentNode||h.appendChild(i.results[n].group),i.results[n].group.lastChild.appendChild(i.results[n].element)):h.appendChild(i.results[n].element)}else h.style.display="none",i.results=null}!0==i.options.autofocus&&i.first()},i.open=function(){if(!t.classList.contains("jdropdown-focus")){e.dropdown.current=i,e.tracking(i,!0),t.classList.add("jdropdown-focus"),800>e.getWindowWidth()&&(null==i.options.type||"picker"==i.options.type)&&e.animation.slideBottom(f,1),!0==i.options.autocomplete&&(i.header.value=i.search,i.header.focus());var n=c();if(n[0]){var a=i.getPosition(n[0]);!1!==a&&i.setCursor(a)}if(!i.options.type||"default"==i.options.type){var o=t.getBoundingClientRect(),r=f.getBoundingClientRect();i.options.position?(f.style.position="fixed",window.innerHeight<o.bottom+r.height?(f.style.top="",f.style.bottom=window.innerHeight-o.top+1+"px"):(f.style.top=o.bottom+"px",f.style.bottom=""),f.style.left=o.left+"px"):window.innerHeight<o.bottom+r.height?(f.style.top="",f.style.bottom=o.height+1+"px"):(f.style.top="",f.style.bottom=""),f.style.minWidth=o.width+"px",i.options.maxWidth&&(f.style.maxWidth=i.options.maxWidth),i.items.length||!0!=i.options.autocomplete?h.style.display="":h.style.display="none"}}"function"==typeof i.options.onopen&&i.options.onopen(t)},i.close=function(n){return t.classList.contains("jdropdown-focus")&&(i.header.value=i.getText(),i.setCursor(),n||"function"!=typeof i.options.onclose||i.options.onclose(t),i.header.blur&&i.header.blur(),t.classList.remove("jdropdown-focus"),e.tracking(i,!1),e.dropdown.current=null),i.getValue()},i.setCursor=function(e,t){if(null!=i.currentIndex&&i.items&&i.items[i.currentIndex]&&i.items[i.currentIndex].element.classList.remove("jdropdown-cursor"),void 0==e)i.currentIndex=null;else if(e=parseInt(e),i.items[e].element.parentNode&&(i.items[e].element.classList.add("jdropdown-cursor"),i.currentIndex=e,!1!==t&&i.items[i.currentIndex].element)){h.scrollTop;var n=i.items[i.currentIndex].element;h.scrollTop=n.offsetTop-n.scrollTop+n.clientTop-95}},i.resetCursor=i.setCursor,i.updateCursor=i.setCursor,i.reset=function(){i.setCursor(),i.setValue(null)},i.first=function(){!0===i.options.lazyLoading&&i.loadFirst();var e=h.querySelectorAll(".jdropdown-item");if(e.length){var t=e[0].indexValue;i.setCursor(t)}},i.last=function(){!0===i.options.lazyLoading&&i.loadLast();var e=h.querySelectorAll(".jdropdown-item");if(e.length){var t=e[e.length-1].indexValue;i.setCursor(t)}},i.next=function(e){var t=null;if(e){if(1==e.length){var n=i.currentIndex||-1;e=e.toLowerCase();var a=null,o=null,r=h.querySelectorAll(".jdropdown-item");if(r.length){for(var s=0;s<r.length;s++)if(r[s].indexValue>n&&(a=i.items[r[s].indexValue])&&(o=a.element.innerText[0])&&e==(o=o.toLowerCase())){t=r[s].indexValue;break}i.setCursor(t)}}}else if(void 0==i.currentIndex||null==i.currentIndex)i.first();else{var l=i.items[i.currentIndex].element,d=l.nextElementSibling;d?(d.classList.contains("jdropdown-group")&&(d=d.lastChild.firstChild),t=d.indexValue):l.parentNode.classList.contains("jdropdown-group-items")&&((d=l.parentNode.parentNode.nextElementSibling)&&(d.classList.contains("jdropdown-group")?d=d.lastChild.firstChild:d.classList.contains("jdropdown-item")?t=d.indexValue:d=null),d&&(t=d.indexValue)),null!==t&&i.setCursor(t)}},i.prev=function(){var e=null;if(null===i.currentIndex)i.first();else{var t=i.items[i.currentIndex].element,n=t.previousElementSibling;n?(n.classList.contains("jdropdown-group")&&(n=n.lastChild.lastChild),e=n.indexValue):t.parentNode.classList.contains("jdropdown-group-items")&&((n=t.parentNode.parentNode.previousElementSibling)&&(n.classList.contains("jdropdown-group")?n=n.lastChild.lastChild:n.classList.contains("jdropdown-item")?e=n.indexValue:n=null),n&&(e=n.indexValue))}null!==e&&i.setCursor(e)},i.loadFirst=function(){if(i.results)var e=i.results;else var e=i.items;var t=e.length||0;!0==i.options.lazyLoading&&t>200&&(t=200),h.innerHTML="";for(var n=0;n<t;n++)e[n].group?(e[n].group.parentNode||h.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):h.appendChild(e[n].element);h.scrollTop=0},i.loadLast=function(){if(i.results)var e=i.results;else var e=i.items;var t=e.length;if(t>200){t-=200,h.innerHTML="";for(var n=t;n<e.length;n++)e[n].group?(e[n].group.parentNode||h.appendChild(e[n].group),e[n].group.lastChild.appendChild(e[n].element)):h.appendChild(e[n].element);h.scrollTop=h.scrollHeight}},i.loadUp=function(){var e=!1;if(i.results)var t=i.results;else var t=i.items;var n=h.querySelectorAll(".jdropdown-item")[0].indexValue;n=i.items[n];var a=t.indexOf(n)-1;if(a>0){for(var o=0;a>0&&t[a]&&o<200;)t[a].group?(t[a].group.parentNode||h.insertBefore(t[a].group,h.firstChild),t[a].group.lastChild.insertBefore(t[a].element,t[a].group.lastChild.firstChild)):h.insertBefore(t[a].element,h.firstChild),a--,o++;e=!0}return e},i.loadDown=function(){var e=!1;if(i.results)var t=i.results;else var t=i.items;var n=h.querySelectorAll(".jdropdown-item"),a=n[n.length-1].indexValue;a=i.items[a];var o=t.indexOf(a)+1;if(o<t.length){for(var r=0;o<t.length&&t[o]&&r<200;)t[o].group?(t[o].group.parentNode||h.appendChild(t[o].group),t[o].group.lastChild.appendChild(t[o].element)):h.appendChild(t[o].element),o++,r++;e=!0}return e},function(){if(n||(n={}),"SELECT"==t.tagName){var a=e.dropdown.extractFromDom(t,n);t=a.el,n=a.options}!n.placeholder&&t.getAttribute("placeholder")&&(n.placeholder=t.getAttribute("placeholder")),i.value={},i.items=[],i.groups=[],i.search="",i.results=null,t.classList.add("jdropdown"),(p=document.createElement("div")).className="jdropdown-container-header",i.header=document.createElement("input"),i.header.className="jdropdown-header jss_object",i.header.type="text",i.header.setAttribute("autocomplete","off"),i.header.onfocus=function(){"function"==typeof i.options.onfocus&&i.options.onfocus(t)},i.header.onblur=function(){"function"==typeof i.options.onblur&&i.options.onblur(t)},i.header.onkeyup=function(e){!0!=i.options.autocomplete||m?i.options.autocomplete||i.next(e.key):(i.search!=i.header.value.trim()&&(m=setTimeout(function(){i.find(i.header.value.trim()),m=null},400)),t.classList.contains("jdropdown-focus")||i.open())},e.dropdown.hasEvents||(e.dropdown.hasEvents=!0,document.addEventListener("keydown",e.dropdown.keydown)),(f=document.createElement("div")).className="jdropdown-container",(h=document.createElement("div")).className="jdropdown-content",(v=document.createElement("div")).className="jdropdown-close",v.innerHTML="Done",($=document.createElement("div")).className="jdropdown-reset",$.innerHTML="x",$.onclick=function(){i.reset(),i.close()},(g=document.createElement("div")).className="jdropdown-backdrop",p.appendChild(i.header),f.appendChild(h),t.appendChild(p),t.appendChild(f),t.appendChild(g),i.setOptions(n),"ontouchsend"in document.documentElement==!0?t.addEventListener("touchsend",e.dropdown.mouseup):t.addEventListener("mouseup",e.dropdown.mouseup),!0==i.options.lazyLoading&&e.lazyLoading(h,{loadUp:i.loadUp,loadDown:i.loadDown}),h.onwheel=function(e){e.stopPropagation()},t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue(!!i.options.multiple);i.setValue(e)},t.dropdown=i}(),i},e.dropdown.keydown=function(t){var n=null;if(n=e.dropdown.current){if(13==t.which||9==t.which)n.header.value&&null==n.currentIndex&&n.options.newOptions?n.add():(null==n.currentIndex&&!0==n.options.autocomplete&&""!=n.header.value&&n.find(n.header.value),n.selectIndex(n.currentIndex));else if(38==t.which)null==n.currentIndex?n.first():n.currentIndex>0&&n.prev(),t.preventDefault();else if(40==t.which)null==n.currentIndex?n.first():n.currentIndex+1<n.items.length&&n.next(),t.preventDefault();else if(36==t.which)n.first(),t.target.classList.contains("jdropdown-header")||t.preventDefault();else if(35==t.which)n.last(),t.target.classList.contains("jdropdown-header")||t.preventDefault();else if(27==t.which)n.close();else if(33==t.which){if(null==n.currentIndex)n.first();else if(n.currentIndex>0)for(var i=0;i<7;i++)n.prev();t.preventDefault()}else if(34==t.which){if(null==n.currentIndex)n.first();else if(n.currentIndex+1<n.items.length)for(var i=0;i<7;i++)n.next();t.preventDefault()}}},e.dropdown.mouseup=function(t){var n=e.findElement(t.target,"jdropdown");if(n){var i=n.dropdown;if(t.target.classList.contains("jdropdown-header")){if(n.classList.contains("jdropdown-focus")&&n.classList.contains("jdropdown-default")){var a=n.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var o=t.changedTouches[0].clientX;t.changedTouches[0].clientY}else{var o=t.clientX;t.clientY}a.width-(o-a.left)<30?t.target.classList.contains("jdropdown-add")?i.add():i.close():!1==i.options.autocomplete&&i.close()}else i.open()}else if(t.target.classList.contains("jdropdown-group-name")){var r=t.target.nextSibling.children;if("none"!=t.target.nextSibling.style.display)for(var s=0;s<r.length;s++)"none"!=r[s].style.display&&i.selectItem(r[s])}else t.target.classList.contains("jdropdown-group-arrow")?t.target.classList.contains("jdropdown-group-arrow-down")?(t.target.classList.remove("jdropdown-group-arrow-down"),t.target.classList.add("jdropdown-group-arrow-up"),t.target.parentNode.nextSibling.style.display="none"):(t.target.classList.remove("jdropdown-group-arrow-up"),t.target.classList.add("jdropdown-group-arrow-down"),t.target.parentNode.nextSibling.style.display=""):t.target.classList.contains("jdropdown-item")?i.selectItem(t.target):t.target.classList.contains("jdropdown-image")?i.selectItem(t.target.parentNode):t.target.classList.contains("jdropdown-description")?i.selectItem(t.target.parentNode):t.target.classList.contains("jdropdown-title")?i.selectItem(t.target.parentNode.parentNode):(t.target.classList.contains("jdropdown-close")||t.target.classList.contains("jdropdown-backdrop"))&&i.close()}},e.dropdown.extractFromDom=function(e,t){var n=e;if(t||(t={}),e.getAttribute("multiple")&&(!t||void 0==t.multiple)&&(t.multiple=!0),e.getAttribute("placeholder")&&(!t||void 0==t.placeholder)&&(t.placeholder=e.getAttribute("placeholder")),e.getAttribute("data-autocomplete")&&(!t||void 0==t.autocomplete)&&(t.autocomplete=!0),t&&void 0!=t.width||(t.width=e.offsetWidth),e.value&&(!t||void 0==t.value)&&(t.value=e.value),!t||void 0==t.data){t.data=[];for(var i=0;i<e.children.length;i++)if("OPTGROUP"==e.children[i].tagName)for(var a=0;a<e.children[i].children.length;a++)t.data.push({value:e.children[i].children[a].value,text:e.children[i].children[a].innerHTML,group:e.children[i].getAttribute("label")});else t.data.push({value:e.children[i].value,text:e.children[i].innerHTML})}t&&void 0!=t.onchange||(t.onchange=function(e,i,a,o){!0==t.multiple?obj.items[i].classList.contains("jdropdown-selected")?n.options[i].setAttribute("selected","selected"):n.options[i].removeAttribute("selected"):n.value=o});var o=document.createElement("div");return e.parentNode.insertBefore(o,e),e.style.display="none",{el:e=o,options:t}},e.editor=function(t,n){var i={type:"editor"};i.options={};var a={url:null,value:"",snippet:null,toolbar:!0,toolbarOnTop:!1,remoteParser:null,placeholder:null,filterPaste:!0,dropZone:!0,dropAsSnippet:!1,acceptImages:!0,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null,extensions:null,type:null};for(var o in a)n&&n.hasOwnProperty(o)?i.options[o]=n[o]:i.options[o]=a[o];var r=null,s=null,l=[];i.el=t,"function"==typeof i.options.onclick&&(t.onclick=function(e){i.options.onclick(t,i,e)}),t.classList.add("jeditor-container");var d=document.createElement("div");d.className="jsnippet",d.setAttribute("contenteditable",!1);var c=document.createElement("div");if(c.className="jeditor-toolbar",i.editor=document.createElement("div"),i.editor.setAttribute("contenteditable",!0),i.editor.setAttribute("spellcheck",!1),i.editor.classList.add("jeditor"),i.options.placeholder&&i.editor.setAttribute("data-placeholder",i.options.placeholder),(i.options.maxHeight||i.options.height)&&(i.editor.style.overflowY="auto",i.options.maxHeight&&(i.editor.style.maxHeight=i.options.maxHeight),i.options.height&&(i.editor.style.height=i.options.height)),i.options.url)e.ajax({url:i.options.url,dataType:"html",success:function(t){i.editor.innerHTML=t,e.editor.setCursor(i.editor,"initial"==i.options.focus)}});else if(i.options.value)i.editor.innerHTML=i.options.value;else for(var u=0;u<t.children.length;u++)i.editor.appendChild(t.children[u]);t.innerHTML="";var p=function(e){"function"==typeof i.options.onchange&&i.options.onchange(t,i,e),i.options.value=i.getData(),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value}))},f=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll("img");if(n.length)for(var a=0;a<n.length;a++)i.addImage(n[a].src)},h=function(){var e=null;if(e=d.children[0]){e.classList.contains("jslider-grid")||e.classList.add("jslider-grid");var t=e.children.length;e.setAttribute("data-number",t>4?4:t),t>4?e.setAttribute("data-total",t-4):e.removeAttribute("data-total")}},v=function(e){d.innerHTML||i.appendSnippet({}),d.children[0].appendChild(e),h()};i.appendSnippet=function(e){d.innerHTML="";for(var t=["image","title","description","host","url"],n=0;n<t.length;n++){var a=document.createElement("div");if(a.className="jsnippet-"+t[n],a.setAttribute("data-k",t[n]),d.appendChild(a),e[t[n]]){if("image"==t[n]){Array.isArray(e.image)||(e.image=[e.image]);for(var o=0;o<e.image.length;o++){var r=document.createElement("img");r.src=e.image[o],a.appendChild(r)}}else a.innerHTML=e[t[n]]}}i.editor.appendChild(document.createElement("br")),i.editor.appendChild(d)},i.setData=function(t){"object"==typeof t?i.editor.innerHTML=t.content:i.editor.innerHTML=t,i.options.focus&&e.editor.setCursor(i.editor,!0),l=[]},i.getFiles=function(){for(var e=i.editor.querySelectorAll(".jfile"),t=[],n=0;n<e.length;n++)l[e[n].src]&&t.push(l[e[n].src]);return t},i.getText=function(){return i.editor.innerText},i.getData=function(e){if(e){var t={content:""};if(d.innerHTML){t.snippet={};for(var n=0;n<d.children.length;n++){var a=d.children[n].getAttribute("data-k");if(a){if("image"==a){t.snippet.image||(t.snippet.image=[]);for(var o=0;o<d.children[n].children.length;o++)t.snippet.image.push(d.children[n].children[o].getAttribute("src"))}else t.snippet[a]=d.children[n].innerHTML}}}var r=Object.keys(l);if(r.length){t.files=[];for(var n=0;n<r.length;n++)t.files.push(l[r[n]])}var s=document.createElement("div");s.innerHTML=i.editor.innerHTML;var c=s.querySelector(".jsnippet");c&&c.remove();var u=s.innerHTML;u=(u=(u=u.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),t.content=u.trim(),D("getData",t)}else var t=i.editor.innerHTML;return t},i.reset=function(){i.editor.innerHTML="",d.innerHTML="",l=[]},i.addPdf=function(e){if("data"!=e.result.substr(0,4))console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60,t.height=60;var n=new Image;t.getContext("2d").drawImage(n,0,0,t.width,t.height),t.toBlob(function(t){var n=document.createElement("img");n.src=window.URL.createObjectURL(t),n.title=e.name,n.className="jfile pdf",l[n.src]={file:n.src,extension:"pdf",content:e.result},document.execCommand("insertHtml",!1,n.outerHTML)})}},i.addImage=function(e,t){if(e||(e=""),"data"==e.substr(0,4)||i.options.remoteParser){if("data"==e.substr(0,4)){var n=e.split(";");n=(n=n[0].split("/"))[1]}else{var n=e.substr(e.lastIndexOf(".")+1);e=i.options.remoteParser+e}var a=new Image;a.onload=function e(){var o=document.createElement("canvas");o.width=a.width,o.height=a.height,o.getContext("2d").drawImage(a,0,0,o.width,o.height),o.toBlob(function(e){var r=document.createElement("img");r.src=window.URL.createObjectURL(e),r.classList.add("jfile"),r.setAttribute("tabindex","900"),r.setAttribute("width",a.width),r.setAttribute("height",a.height),l[r.src]={file:r.src,extension:n,content:o.toDataURL()},i.options.dropAsSnippet||t?(v(r),l[r.src].snippet=!0):document.execCommand("insertHtml",!1,r.outerHTML),p()})},a.src=e}else console.error("remoteParser not defined in your initialization")},i.addFile=function(e){for(var t=[],n=0;n<e.length;n++)if(e[n].size>i.options.maxFileSize)alert("The file is too big");else{var a=e[n].type.split("/");(a="image"==a[0]?1:"pdf"==a[1]?2:0)?(t[n]=new FileReader,t[n].index=n,t[n].type=a,t[n].name=e[n].name,t[n].date=e[n].lastModified,t[n].size=e[n].size,t[n].addEventListener("load",function(e){2==e.target.type?!0==i.options.acceptFiles&&i.addPdf(e.target):i.addImage(e.target.result)},!1),t[n].readAsDataURL(e[n])):alert("The extension is not allowed")}},i.destroy=function(){i.editor.removeEventListener("mouseup",M),i.editor.removeEventListener("mousedown",N),i.editor.removeEventListener("mousemove",O),i.editor.removeEventListener("keyup",k),i.editor.removeEventListener("keydown",A),i.editor.removeEventListener("dragstart",w),i.editor.removeEventListener("dragenter",L),i.editor.removeEventListener("dragover",j),i.editor.removeEventListener("drop",C),i.editor.removeEventListener("paste",_),i.editor.removeEventListener("blur",E),i.editor.removeEventListener("focus",T),t.editor=null,t.classList.remove("jeditor-container"),c.remove(),d.remove(),i.editor.remove()},i.upload=function(){e.click(i.file)};var $=[HTMLUnknownElement,HTMLAudioElement,HTMLEmbedElement,HTMLIFrameElement,HTMLTextAreaElement,HTMLInputElement,HTMLScriptElement],g=["width","height","align","border","src","tabindex"],m=["color","font-weight","font-size","background","background-color","margin"],x=function(e){if(e.attributes&&e.attributes.length){var t=null,n=e.getAttribute("style");if(n){t=[];for(var a=n.split(";"),o=0;o<a.length;o++){var r=a[o].trim().split(":");if(m.indexOf(r[0].trim())>=0){var s=r.shift(),r=r.join(":");t.push(s+":"+r)}}}"IMG"==e.tagName.toUpperCase()&&(i.options.acceptImages&&e.src?(e.setAttribute("tabindex","900"),i.addImage(e.src)):e.parentNode.removeChild(e));var l=[],d=e.attributes.length-1;if(d>0){for(var c=d;c>=0;c--)l.push(e.attributes[c].name);l.forEach(function(t){-1==g.indexOf(t)&&e.removeAttribute(t)})}e.style="",t&&t.length&&e.setAttribute("style",t.join(";"))}if(e.children.length)for(var c=0;c<e.children.length;c++)x(e.children[c]);$.indexOf(e.constructor)>=0&&e.remove()},b=function(e){var t=window.getSelection(),n=document.createRange();n.selectNode(e),t.addRange(n)},y=function(e){e&&(e=e.replace(RegExp("<!--(.*?)-->","gsi"),""));var t=new DOMParser().parseFromString(e,"text/html");x(t);var n=document.createElement("span");return n.innerHTML=t.firstChild.innerHTML,n},_=function(e){if(!0==i.options.filterPaste){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/html"),n=(e.originalEvent||e).clipboardData.getData("text/plain"),a=(e.originalEvent||e).clipboardData.files;else if(window.clipboardData)var t=window.clipboardData.getData("Html"),n=window.clipboardData.getData("Text"),a=window.clipboardData.files;if(a.length)i.addFile(a);else if(t){var o=y(t);document.execCommand("insertHtml",!1,o.innerHTML)}else t=n.split("\r\n"),e.target.innerText?(t=t.map(function(e){return"<div>"+e+"</div>"}),document.execCommand("insertHtml",!1,t.join(""))):t.map(function(e){var t=document.createElement("div");t.innerText=e,i.editor.appendChild(t)});e.preventDefault()}},w=function(e){s&&s.e&&e.preventDefault()},L=function(e){s||!1==i.options.dropZone||(t.classList.add("jeditor-dragging"),e.preventDefault())},j=function(e){s||!1==i.options.dropZone||(r&&clearTimeout(r),r=setTimeout(function(){t.classList.remove("jeditor-dragging")},100),e.preventDefault())},C=function(e){if(s||!1==i.options.dropZone);else{var n=null;document.caretRangeFromPoint?n=document.caretRangeFromPoint(e.clientX,e.clientY):e.rangeParent&&(n=document.createRange()).setStart(e.rangeParent,e.rangeOffset);var a=window.getSelection();a.removeAllRanges(),a.addRange(n),a.anchorNode.parentNode.focus();var o=(e.originalEvent||e).dataTransfer.getData("text/html"),r=(e.originalEvent||e).dataTransfer.getData("text/plain"),l=(e.originalEvent||e).dataTransfer.files;l.length?i.addFile(l):r&&f(o),t.classList.remove("jeditor-dragging"),e.preventDefault()}},E=function(e){D("onevent",e),p(e),"function"==typeof i.options.onblur&&i.options.onblur(t,i,e)},T=function(e){"function"==typeof i.options.onfocus&&i.options.onfocus(t,i,e)},k=function(e){i.editor.innerHTML||(i.editor.innerHTML="<div><br></div>"),"function"==typeof i.options.onkeyup&&i.options.onkeyup(t,i,e)},A=function(e){if(D("onevent",e),"Delete"==e.key&&"IMG"==e.target.tagName){var n=e.target.parentNode;b(e.target),n.classList.contains("jsnippet-image")&&h()}"function"==typeof i.options.onkeydown&&i.options.onkeydown(t,i,e)},M=function(e){if(s&&s.e&&(s.e.classList.remove("resizing"),!0==s.e.changed)){var t=s.e.cloneNode();t.width=parseInt(s.e.style.width)||s.e.getAttribute("width"),t.height=parseInt(s.e.style.height)||s.e.getAttribute("height"),s.e.style.width="",s.e.style.height="",b(s.e),document.execCommand("insertHtml",!1,t.outerHTML)}s=!1},N=function(e){var t=function(t){var n=t.getBoundingClientRect();n.width-(e.clientX-n.left)<40&&e.clientY-n.top<40&&(t.innerHTML="",t.remove())};if("IMG"==e.target.tagName){if(e.target.style.cursor){var n=e.target.getBoundingClientRect();s={e:e.target,x:e.clientX,y:e.clientY,w:n.width,h:n.height,d:e.target.style.cursor},e.target.getAttribute("width")||e.target.setAttribute("width",n.width),e.target.getAttribute("height")||e.target.setAttribute("height",n.height);var i=window.getSelection();if(i.rangeCount)for(var a=0;a<i.rangeCount;a++)i.removeRange(i.getRangeAt(a));e.target.classList.add("resizing")}else s=!0}else e.target.classList.contains("jsnippet")?t(e.target):e.target.parentNode.classList.contains("jsnippet")&&t(e.target.parentNode),s=!0},O=function(e){if("IMG"==e.target.tagName&&!e.target.parentNode.classList.contains("jsnippet-image")&&!0==i.options.allowImageResize&&e.target.getAttribute("tabindex")){var t=e.target.getBoundingClientRect();e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&s&&s.d){if("e-resize"==s.d||"ne-resize"==s.d||"se-resize"==s.d){if(s.e.style.width=s.w+(e.clientX-s.x),e.shiftKey){var n=(e.clientX-s.x)*(s.h/s.w);s.e.style.height=s.h+n}else var n=null}n||"s-resize"!=s.d&&"se-resize"!=s.d&&"sw-resize"!=s.d||e.shiftKey||(s.e.style.height=s.h+(e.clientY-s.y)),s.e.changed=!0}},D=function(e,t){if(i.options.extensions){var n=Object.keys(i.options.extensions);if(n.length)for(var a=0;a<n.length;a++)i.options.extensions[n[a]]&&"function"==typeof i.options.extensions[n[a]][e]&&i.options.extensions[n[a]][e].call(i,t)}};if(document.addEventListener("mouseup",M),document.addEventListener("mousemove",O),i.editor.addEventListener("mousedown",N),i.editor.addEventListener("keyup",k),i.editor.addEventListener("keydown",A),i.editor.addEventListener("dragstart",w),i.editor.addEventListener("dragenter",L),i.editor.addEventListener("dragover",j),i.editor.addEventListener("drop",C),i.editor.addEventListener("paste",_),i.editor.addEventListener("focus",T),i.editor.addEventListener("blur",E),t.appendChild(i.editor),i.options.snippet&&i.appendSnippet(i.options.snippet),i.options.toolbar){if(Array.isArray(i.options.toolbar))var H={container:!0,responsive:!0,items:i.options.toolbar};else if(!0===i.options.toolbar)var H={container:!0,responsive:!0,items:[]};else var H=i.options.toolbar;H.items&&H.items.length||(H.items=e.editor.getDefaultToolbar(i)),i.options.toolbarOnTop?(t.classList.add("toolbar-on-top"),t.insertBefore(c,t.firstChild)):(i.editor.style.padding="15px",t.appendChild(c)),e.toolbar(c,H),c.addEventListener("click",function(){i.editor.focus()})}return i.file=document.createElement("input"),i.file.style.display="none",i.file.type="file",i.file.setAttribute("accept","image/*"),i.file.onchange=function(){i.addFile(this.files)},t.appendChild(i.file),i.editor.innerHTML&&i.options.focus&&e.editor.setCursor(i.editor,"initial"==i.options.focus),t.change=i.setData,t.val=function(e){if(void 0===e){var n="true"!==t.getAttribute("data-html");return i.getData(n)}i.setData(e)},function(){if(i.options.extensions){var e=Object.keys(i.options.extensions);if(e.length)for(var n=0;n<e.length;n++)i.options.extensions[e[n]]&&"function"==typeof i.options.extensions[e[n]]&&(i.options.extensions[e[n]]=i.options.extensions[e[n]](t,i))}}(),t.editor=i,"function"==typeof i.options.onload&&i.options.onload(t,i,i.editor),i},e.editor.setCursor=function(e,t){e.focus(),document.execCommand("selectAll");var n=window.getSelection(),i=n.getRangeAt(0);if(!0==t)var a=i.startContainer,o=0;else var a=i.endContainer,o=a.length;i.setStart(a,o),i.setEnd(a,o),n.removeAllRanges(),n.addRange(i)},e.editor.getDefaultToolbar=function(t){var n=function(t,n,i){i.color||(e.color(i,{onchange:function(e,t){"color"===i.k?document.execCommand("foreColor",!1,t):document.execCommand("backColor",!1,t)}}),i.color.open())},i=[];return i.push({content:"undo",onclick:function(){document.execCommand("undo")}}),i.push({content:"redo",onclick:function(){document.execCommand("redo")}}),i.push({type:"divisor"}),t.options.toolbarOnTop&&(i.push({type:"select",width:"140px",options:["Default","Verdana","Arial","Courier New"],render:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},onchange:function(e,t,n,i,a){document.execCommand("fontName",!1,i)}}),i.push({type:"select",content:"format_size",options:["x-small","small","medium","large","x-large"],render:function(e){return'<span style="font-size:'+e+'">'+e+"</span>"},onchange:function(e,t,n,i,a){document.execCommand("fontSize",!1,parseInt(a)+1)}}),i.push({type:"select",options:["format_align_left","format_align_center","format_align_right","format_align_justify"],render:function(e){return'<i class="material-icons">'+e+"</i>"},onchange:function(e,t,n,i,a){document.execCommand(["JustifyLeft","justifyCenter","justifyRight","justifyFull"][a])}}),i.push({type:"divisor"}),i.push({content:"format_color_text",k:"color",onclick:n}),i.push({content:"format_color_fill",k:"background-color",onclick:n})),i.push({content:"format_bold",onclick:function(e,t,n){document.execCommand("bold"),document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_italic",onclick:function(e,t,n){document.execCommand("italic"),document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_underline",onclick:function(e,t,n){document.execCommand("underline"),document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({type:"divisor"}),i.push({content:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",!0,null),document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}}),i.push({content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}),t.options.toolbarOnTop&&(i.push({type:"divisor"}),i.push({content:"photo",onclick:function(){t.upload()}}),i.push({type:"select",content:"table_view",columns:10,right:!0,options:["0x0","1x0","2x0","3x0","4x0","5x0","6x0","7x0","8x0","9x0","0x1","1x1","2x1","3x1","4x1","5x1","6x1","7x1","8x1","9x1","0x2","1x2","2x2","3x2","4x2","5x2","6x2","7x2","8x2","9x2","0x3","1x3","2x3","3x3","4x3","5x3","6x3","7x3","8x3","9x3","0x4","1x4","2x4","3x4","4x4","5x4","6x4","7x4","8x4","9x4","0x5","1x5","2x5","3x5","4x5","5x5","6x5","7x5","8x5","9x5","0x6","1x6","2x6","3x6","4x6","5x6","6x6","7x6","8x6","9x6","0x7","1x7","2x7","3x7","4x7","5x7","6x7","7x7","8x7","9x7","0x8","1x8","2x8","3x8","4x8","5x8","6x8","7x8","8x8","9x8","0x9","1x9","2x9","3x9","4x9","5x9","6x9","7x9","8x9","9x9",],render:function(e,t){t&&(t.onmouseover=this.onmouseover,e=e.split("x"),t.setAttribute("data-x",e[0]),t.setAttribute("data-y",e[1]));var n=document.createElement("div");return t.style.margin="1px",t.style.border="1px solid #ddd",n},onmouseover:function(e){for(var t=parseInt(e.target.getAttribute("data-x")),n=parseInt(e.target.getAttribute("data-y")),i=0;i<e.target.parentNode.children.length;i++){var a=e.target.parentNode.children[i],o=parseInt(a.getAttribute("data-x")),r=parseInt(a.getAttribute("data-y"));o<=t&&r<=n?(a.style.backgroundColor="#cae1fc",a.style.borderColor="#2977ff"):(a.style.backgroundColor="",a.style.borderColor="#ddd")}},onchange:function(e,t,n){n=n.split("x");for(var i=document.createElement("table"),a=document.createElement("tbody"),o=0;o<=n[1];o++){for(var r=document.createElement("tr"),s=0;s<=n[0];s++){var l=document.createElement("td");l.innerHTML="",r.appendChild(l)}a.appendChild(r)}i.appendChild(a),i.setAttribute("width","100%"),i.setAttribute("cellpadding","6"),i.setAttribute("cellspacing","0"),document.execCommand("insertHTML",!1,i.outerHTML)}})),i},e.form=function(t,n){var i={};i.options={};var a={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(t,n){e.alert(n)}};for(var o in a)n&&n.hasOwnProperty(o)?i.options[o]=n[o]:i.options[o]=a[o];i.options.validations||(i.options.validations={}),i.options.submitButton||(i.options.submitButton=t.querySelector("input[type=submit]")),i.options.submitButton&&i.options.url&&(i.options.submitButton.onclick=function(){i.save()}),i.options.validations.email||(i.options.validations.email=e.validations.email),i.options.validations.length||(i.options.validations.length=e.validations.length),i.options.validations.required||(i.options.validations.required=e.validations.required),i.setUrl=function(e){i.options.url=e},i.load=function(){e.ajax({url:i.options.url,method:"GET",dataType:"json",queue:!0,success:function(n){if("function"==typeof i.options.onbeforeload){var a=i.options.onbeforeload(t,n);a&&(n=a)}e.form.setElements(t,n),"function"==typeof i.options.onload&&i.options.onload(t,n)}})},i.save=function(){var n=i.validate();if(n)i.options.onerror(t,n);else{var a=e.form.getElements(t,!0);if("function"==typeof i.options.onbeforesave){var a=i.options.onbeforesave(t,a);if(!1===a)return}e.ajax({url:i.options.url,method:"POST",dataType:"json",data:a,success:function(e){"function"==typeof i.options.onsave&&i.options.onsave(t,a,e)}})}},i.remove=function(){if("function"==typeof i.options.onbeforeremove&&!1===i.options.onbeforeremove(t,i))return!1;e.ajax({url:i.options.url,method:"DELETE",dataType:"json",success:function(e){"function"==typeof i.options.onremove&&i.options.onremove(t,i,e),i.reset()}})};var r=function(e){e.classList.add("error"),i.options.submitButton&&i.options.submitButton.setAttribute("disabled",!0);var t=e.getAttribute("data-error")||"There is an error in the form";return e.setAttribute("title",t),t},s=function(e){var n=!1;e.classList.remove("error"),e.removeAttribute("title");for(var a=t.querySelectorAll("input, select, textarea, div[name]"),o=0;o<a.length;o++)a[o].getAttribute("data-validation")&&a[o].classList.contains("error")&&(n=!0);i.options.submitButton&&(n?i.options.submitButton.setAttribute("disabled",!0):i.options.submitButton.removeAttribute("disabled"))};return i.validateElement=function(t){var n=!1,a=e.form.getValue(t),o=t.getAttribute("data-validation");return"function"!=typeof i.options.validations[o]||i.options.validations[o](a,t)?t.classList.contains("error")&&s(t):n=r(t),n},i.reset=function(){for(var e=null,n=t.querySelectorAll("input, select, textarea, div[name]"),i=0;i<n.length;i++)(e=n[i].getAttribute("name"))&&("checkbox"==n[i].type||"radio"==n[i].type?n[i].checked=!1:"function"==typeof n[i].val?n[i].val(""):n[i].value="")},i.validate=function(){for(var e=[],n=t.querySelectorAll("input, select, textarea, div[name]"),a=0;a<n.length;a++)if(n[a].getAttribute("data-validation")){var o=i.validateElement(n[a]);o&&e.push(o)}return e.length>0&&e.join("<br>")},i.getError=function(){return!!i.validation()},i.setHash=function(){return i.getHash(e.form.getElements(t))},i.getHash=function(e){var t,n,i=0;if(0===e.length);else for(t=0;t<e.length;t++)i=(i<<5)-i+(n=e.charCodeAt(t)),i|=0;return i},i.isChanged=function(){var e=i.setHash();return i.options.currentHash!=e},i.resetTracker=function(){i.options.currentHash=i.setHash(),i.options.ignore=!1},i.setIgnore=function(e){i.options.ignore=!!e},setTimeout(function(){i.options.currentHash=i.setHash()},1e3),t.addEventListener("keyup",function(e){e.target.getAttribute("data-validation")&&i.validateElement(e.target)}),e.form.hasEvents||(window.addEventListener("beforeunload",function(e){if(i.isChanged()&&!1==i.options.ignore){var t=i.options.message?i.options.message:"o/";return t?(void 0===e&&(e=window.event),e&&(e.returnValue=t),t):void 0}}),e.form.hasEvents=!0),t.form=i,i},e.form.getValue=function(e){var t=null;if("checkbox"==e.type)!0==e.checked&&(t=e.value||!0);else if("radio"==e.type)!0==e.checked&&(t=e.value);else if("file"==e.type)t=e.files;else if("select"==e.tagName&&!0==e.multiple){t=[];for(var n=e.querySelectorAll("options[selected]"),i=0;i<n.length;i++)t.push(n[i].value)}else t="function"==typeof e.val?e.val():e.value||"";return t},e.form.getElements=function(t,n){for(var i={},a=null,o=t.querySelectorAll("input, select, textarea, div[name]"),r=0;r<o.length;r++)(a=o[r].getAttribute("name"))&&(i[a]=e.form.getValue(o[r])||"");return!0==n?i:JSON.stringify(i)},e.form.setElements=function(t,n){for(var i=null,a=null,o=t.querySelectorAll("input, select, textarea, div[name]"),r=0;r<o.length;r++){var s=o[r].getAttribute("type");if(i=o[r].getAttribute("name")){if(i=i.replace(RegExp(/\[(.*?)\]/ig),".$1"),a=null,i.match(/\./)){var l=e.path.call(n,i)||"";void 0!==l&&(a=l)}else void 0!==n[i]&&(a=n[i]);null!==a&&("checkbox"==s||"radio"==s?o[r].checked=!!a:"file"==s||("function"==typeof o[r].val?o[r].val(a):o[r].value=a))}}},e.tracker=e.form,e.focus=function(e){if(e.innerText.length){var t=document.createRange(),n=window.getSelection(),i=e.childNodes[e.childNodes.length-1];t.setStart(i,i.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t),e.scrollLeft=e.scrollWidth}},e.isNumeric=function(e){return"string"==typeof e&&(e=e.trim()),!isNaN(e)&&null!==e&&""!==e},e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},e.getNode=function(){var e=document.getSelection().anchorNode;return e?3==e.nodeType?e.parentNode:e:null},e.hash=function(e){var t,n,i=0;if(0===e.length);else for(t=0;t<e.length;t++)(n=e.charCodeAt(t))>32&&(i=(i<<5)-i+n,i|=0);return i},e.randomColor=function(t){var n=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var i,a,o=[];for(a=0;a<3;a++)i=Math.round(Math.min(Math.max(0,(i=parseInt(n.substr(2*a,2),16))+-.25*i),255)).toString(16),o.push(("00"+i).substr(i.length));return!0==t?"#"+e.two(o[0].toString(16))+e.two(o[1].toString(16))+e.two(o[2].toString(16)):o},e.getWindowWidth=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerWidth||n.clientWidth||i.clientWidth},e.getWindowHeight=function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||i.clientHeight},e.getPosition=function(e){if(e.changedTouches&&e.changedTouches[0])var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;else var t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[t,n]},e.click=function(e){if(e.click)e.click();else{var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}},e.findElement=function(e,t){var n=!1;return function e(i){i&&!n&&("function"==typeof t?n=t(i):"string"==typeof t&&i.classList&&i.classList.contains(t)&&(n=i)),i.parentNode&&!n&&e(i.parentNode)}(e),n},e.two=function(e){return 1==(e=""+e).length&&(e="0"+e),e},e.sha512=function(e){function t(e,t){this.highOrder=e,this.lowOrder=t}var n,i,a,o,r,s,l,d,c,u,p,f,h=[new t(1779033703,4089235720),new t(3144134277,2227873595),new t(1013904242,4271175723),new t(2773480762,1595750129),new t(1359893119,2917565137),new t(2600822924,725511199),new t(528734635,4215389547),new t(1541459225,327033209)],v=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)],$=Array(64);function g(e,n){var i,a,o,r;return i=(65535&e.lowOrder)+(65535&n.lowOrder),o=(65535&(a=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i>>>16)))<<16|65535&i,i=(65535&e.highOrder)+(65535&n.highOrder)+(a>>>16),r=(65535&(a=(e.highOrder>>>16)+(n.highOrder>>>16)+(i>>>16)))<<16|65535&i,new t(r,o)}function m(e,n,i,a){var o,r,s,l;return o=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&a.lowOrder),s=(65535&(r=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(a.lowOrder>>>16)+(o>>>16)))<<16|65535&o,o=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&a.highOrder)+(r>>>16),l=(65535&(r=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(a.highOrder>>>16)+(o>>>16)))<<16|65535&o,new t(l,s)}function x(e,n,i,a,o){var r,s,l,d;return r=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&i.lowOrder)+(65535&a.lowOrder)+(65535&o.lowOrder),l=(65535&(s=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(i.lowOrder>>>16)+(a.lowOrder>>>16)+(o.lowOrder>>>16)+(r>>>16)))<<16|65535&r,r=(65535&e.highOrder)+(65535&n.highOrder)+(65535&i.highOrder)+(65535&a.highOrder)+(65535&o.highOrder)+(s>>>16),d=(65535&(s=(e.highOrder>>>16)+(n.highOrder>>>16)+(i.highOrder>>>16)+(a.highOrder>>>16)+(o.highOrder>>>16)+(r>>>16)))<<16|65535&r,new t(d,l)}function b(e,n,i){return new t(e.highOrder&n.highOrder^e.highOrder&i.highOrder^n.highOrder&i.highOrder,e.lowOrder&n.lowOrder^e.lowOrder&i.lowOrder^n.lowOrder&i.lowOrder)}function y(e,n,i){return new t(e.highOrder&n.highOrder^~e.highOrder&i.highOrder,e.lowOrder&n.lowOrder^~e.lowOrder&i.lowOrder)}function _(e,n){return n<=32?new t(e.highOrder>>>n|e.lowOrder<<32-n,e.lowOrder>>>n|e.highOrder<<32-n):new t(e.lowOrder>>>n|e.highOrder<<32-n,e.highOrder>>>n|e.lowOrder<<32-n)}function w(e){var n=_(e,28),i=_(e,34),a=_(e,39);return new t(n.highOrder^i.highOrder^a.highOrder,n.lowOrder^i.lowOrder^a.lowOrder)}function L(e){var n=_(e,14),i=_(e,18),a=_(e,41);return new t(n.highOrder^i.highOrder^a.highOrder,n.lowOrder^i.lowOrder^a.lowOrder)}function j(e){var n=_(e,1),i=_(e,8),a=E(e,7);return new t(n.highOrder^i.highOrder^a.highOrder,n.lowOrder^i.lowOrder^a.lowOrder)}function C(e){var n=_(e,19),i=_(e,61),a=E(e,6);return new t(n.highOrder^i.highOrder^a.highOrder,n.lowOrder^i.lowOrder^a.lowOrder)}function E(e,n){return n<=32?new t(e.highOrder>>>n,e.lowOrder>>>n|e.highOrder<<32-n):new t(0,e.highOrder<<32-n)}var T,e=(T=e,unescape(encodeURIComponent(T))),k=8*e.length;e=function e(t){for(var n=[],i=8*t.length,a=0;a<i;a+=8)n[a>>5]|=(255&t.charCodeAt(a/8))<<24-a%32;return n}(e),e[k>>5]|=128<<24-k%32,e[(k+128>>10<<5)+31]=k;for(var c=0;c<e.length;c+=32){n=h[0],i=h[1],a=h[2],o=h[3],r=h[4],s=h[5],l=h[6],d=h[7];for(var u=0;u<80;u++)u<16?$[u]=new t(e[2*u+c],e[2*u+c+1]):$[u]=m(C($[u-2]),$[u-7],j($[u-15]),$[u-16]),p=x(d,L(r),y(r,s,l),v[u],$[u]),f=g(w(n),b(n,i,a)),d=l,l=s,s=r,r=g(o,p),o=a,a=i,i=n,n=g(p,f);h[0]=g(n,h[0]),h[1]=g(i,h[1]),h[2]=g(a,h[2]),h[3]=g(o,h[3]),h[4]=g(r,h[4]),h[5]=g(s,h[5]),h[6]=g(l,h[6]),h[7]=g(d,h[7])}for(var A=[],c=0;c<h.length;c++)A.push(h[c].highOrder),A.push(h[c].lowOrder);return function e(t){for(var n,i="0123456789abcdef",a="",o=4*t.length,r=0;r<o;r+=1)a+=i.charAt((n=t[r>>2]>>(3-r%4)*8)>>4&15)+i.charAt(15&n);return a}(A)},e.image=e.upload=function(t,n){var i={};i.options={};var a={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed"}};for(var o in a)n&&n.hasOwnProperty(o)?i.options[o]=n[o]:i.options[o]=a[o];!0==i.options.multiple&&t.setAttribute("data-multiple",!0),t.content=[],t.classList.add("jupload"),!0==i.options.input&&t.classList.add("input"),i.add=function(n){if(!1==i.options.multiple&&(t.content=[],t.innerText=""),"image"==i.options.type){var a=document.createElement("img");a.setAttribute("src",n.file),a.setAttribute("tabindex",-1),t.getAttribute("name")||(a.className="jfile",a.content=n),t.appendChild(a)}else{if(n.name)var o=n.name;else var o=n.file;var r=document.createElement("div");r.innerText=o||i.options.type,r.classList.add("jupload-item"),r.setAttribute("tabindex",-1),t.appendChild(r)}n.content&&(n.file=e.guid()),t.content.push(n),"function"==typeof i.options.onchange&&i.options.onchange(t,n)},i.addFromFile=function(e){if(e.type.split("/")[0]==i.options.type){var t=new FileReader;t.addEventListener("load",function(t){var n={file:t.srcElement.result,extension:e.name.substr(e.name.lastIndexOf(".")+1),name:e.name,size:e.size,lastmodified:e.lastModified,content:t.srcElement.result};i.add(n)}),t.readAsDataURL(e)}else alert(i.options.text.extensionNotAllowed)},i.addFromUrl=function(t){if("data"==t.substr(0,4)||i.options.remoteParser){if("data"==t.substr(0,4)){var n=t.split(";");if((n=n[0].split("/"))[0].replace("data:","")==i.options.type){var a={file:t,name:"",extension:n[1],content:t};i.add(a)}else alert(i.options.text.extensionNotAllowed)}else{var n=t.substr(t.lastIndexOf(".")+1);t=i.options.remoteParser+t,e.ajax({url:t,type:"GET",dataType:"blob",success:function(e){}})}}else console.error("remoteParser not defined in your initialization")};var r=i.options.type+"/"+i.options.extension,s=document.createElement("input");s.type="file",s.setAttribute("accept",r),s.onchange=function(){for(var e=0;e<this.files.length;e++)i.addFromFile(this.files[e])},!0==i.options.multiple&&s.setAttribute("multiple",!0);var l=null;return t.addEventListener("click",function(n){l=null,t.children.length&&n.target!==t?n.target.parentNode==t&&(l=n.target):e.click(s)}),t.addEventListener("dblclick",function(t){e.click(s)}),t.addEventListener("dragenter",function(e){t.style.border="1px dashed #000"}),t.addEventListener("dragleave",function(e){t.style.border="1px solid #eee"}),t.addEventListener("dragstop",function(e){t.style.border="1px solid #eee"}),t.addEventListener("dragover",function(e){e.preventDefault()}),t.addEventListener("keydown",function(e){if(l&&46==e.which){var n=Array.prototype.indexOf.call(t.children,l);n>=0&&(t.content.splice(n,1),l.remove(),l=null)}}),t.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation();var n=(e.originalEvent||e).dataTransfer.getData("text/html");if((e.originalEvent||e).dataTransfer.files.length)for(var a=0;a<e.dataTransfer.files.length;a++)i.addFromFile(e.dataTransfer.files[a]);else if(n){!1==i.options.multiple&&(t.innerText="");var o=document.createElement("div");o.innerHTML=n;var r=o.querySelectorAll("img");if(r.length)for(var a=0;a<r.length;a++)i.addFromUrl(r[a].src)}return t.style.border="1px solid #eee",!1}),t.val=function(e){if(void 0===e)return t.content&&t.content.length?t.content:null;if(t.innerText="",t.content=[],e){if(Array.isArray(e))for(var n=0;n<e.length;n++)"string"==typeof e[n]?i.add({file:e[n]}):i.add(e[n]);else"string"==typeof e&&i.add({file:e})}},t.upload=t.image=i,i},e.image.create=function(e){var t=document.createElement("img");return t.setAttribute("src",e.file),t.className="jfile",t.setAttribute("tabindex",-1),t.content=e,t},e.lazyLoading=function(e,t){t.loadUp&&"function"==typeof t.loadUp||(t.loadUp=function(){return!1}),t.loadDown&&"function"==typeof t.loadDown||(t.loadDown=function(){return!1}),t.timer||(t.timer=100);var n=null,i=function(i){if(null==n){var a=!1,o=e.scrollTop;e.scrollTop+2*e.clientHeight>=e.scrollHeight?t.loadDown()&&(o==e.scrollTop&&(e.scrollTop=e.scrollTop-e.clientHeight),a=!0):e.scrollTop<=e.clientHeight&&t.loadUp()&&(o==e.scrollTop&&(e.scrollTop=e.scrollTop+e.clientHeight),a=!0),n=setTimeout(function(){n=null},t.timer),a&&"function"==typeof t.onupdate&&t.onupdate()}};return e.onscroll=function(e){i(e)},e.onwheel=function(e){i(e)},{}},e.loading=(v=null,(h={}).show=function(e){v||((v=document.createElement("div")).className="jloading"),document.body.appendChild(v),e>0&&setTimeout(function(){h.hide()},1e3*e)},h.hide=function(){v&&v.parentNode&&document.body.removeChild(v)},h),e.mask=($={text:["@"],currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","MONTH","MON","HH24","HH12","HH","\\[H\\]","H","AM/PM","PM","AM","MI","SS","MS","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]},g=function(){if(-1!==this.mask.toLowerCase().indexOf("[h]")){var t=0;this.date[4]&&(t=parseFloat(this.date[4]/60));var n=parseInt(this.date[3])+t;n/=24}else!(this.date[0]&&this.date[1]&&this.date[2])&&(this.date[3]||this.date[4])?n=e.two(this.date[3])+":"+e.two(this.date[4])+":"+e.two(this.date[5]):(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),n=e.two(this.date[0])+"-"+e.two(this.date[1])+"-"+e.two(this.date[2]),(this.date[3]||this.date[4]||this.date[5])&&(n+=" "+e.two(this.date[3])+":"+e.two(this.date[4])+":"+e.two(this.date[5])));return n},m=function(){var t="";if(!(this.date[0]&&this.date[1]&&this.date[2])&&(this.date[3]||this.date[4]))t=-1!==this.mask.toLowerCase().indexOf("[h]")?parseInt(this.date[3]):parseInt(this.date[3])%24,this.date[4]&&(t+=parseFloat(this.date[4]/60)),t/=24;else if(this.date[0]||this.date[1]||this.date[2]||this.date[3]||this.date[4]||this.date[5]){this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1);var n=e.calendar.now(this.date);t=e.calendar.dateToNum(n),this.date[4]&&(t+=parseFloat(this.date[4]/60))}return t},x=function(e){return null===e||""===e||void 0===e},b=function(e){return"="==(""+e).chartAt(0)},y=function(e){return"currency"===e||"percentage"===e||"numeric"===e},_=function(e){if(e&&Number(e)==e)return".";if(this.options.decimal)return this.options.decimal;if(this.locale){var t=Intl.NumberFormat(this.locale).format(1.1);return this.options.decimal=t[1]}e||(e=this.mask);var n=RegExp("0{1}(.{1})0+","ig"),t=n.exec(e);if(t&&t[1]&&1==t[1].length)return this.options.decimal=t[1],t[1];var n=RegExp("#{1}(.{1})#+","ig"),t=n.exec(e);return t&&t[1]&&1==t[1].length?","===t[1]?this.options.decimal=".":this.options.decimal=",":this.options.decimal="1.1".toLocaleString().substring(1,2),this.options.decimal?this.options.decimal:null},w=function(e,t){if(""==e)return"";t||(t=_.call(this));var n=(e=(""+e).split(t))[0].match(/[-]+/g);return(n=!!n&&!!n.length,e[0]=e[0].match(/[0-9]+/g),e[0]?(n&&e[0].unshift("-"),e[0]=e[0].join("")):n&&(e[0]="-"),e[0]||e[1])?(void 0!==e[1]&&(e[1]=e[1].match(/[0-9]+/g),e[1]?e[1]=e[1].join(""):e[1]=""),e):""},L=function(e,t){if(""==e)return"";var n=_.call(this),i=this.options;if(""==(e=w.call(this,e)))return"";if(e[0]){var a=parseFloat(e[0]+".1");"percent"==i.style&&(a/=100)}else var a=null;if(("-"==e[0]||"-00"==e[0])&&!e[1]&&t&&"deleteContentBackward"==t.inputType)return"";var o=new Intl.NumberFormat(this.locale,i).format(a);if(void 0!==(o=o.split(n))[1]){var r=o[1].replace(/[0-9]*/g,"");r&&(o[2]=r)}return void 0!==e[1]?o[1]=n+e[1]:o[1]="",o.join("")},j=function(e,t){var n=T.call(e);if(n){_.call(this);var i=L.call(this,n,t),a=i.length-n.length,o=E.call(e)+a;T.call(e,i,o,!0)}},C=function(e){var t=w.call(this,e);return t?("-"===t[0]&&(t[0]="-0"),parseFloat(t.join("."))):null},E=function(e,t){if(void 0===e){if("DIV"!=this.tagName)return this.selectionStart;var n=0,i=window.getSelection();if(i&&0!==i.rangeCount){var a=i.getRangeAt(0),o=a.cloneRange();o.selectNodeContents(this),o.setEnd(a.endContainer,a.endOffset),n=o.toString().length}return n}var r=T.call(this);if(t){for(var o=null,s=0;s<r.length;s++)(r[s].match(/[\-0-9]/g)||"."==r[s]||","==r[s])&&(o=s);null===o&&(o=r.indexOf(" ")),e>=o&&(e=o+1)}if(e>r.length&&(e=r.length),e){if("DIV"==this.tagName){var i=window.getSelection(),a=document.createRange();this.childNodes[0]&&(a.setStart(this.childNodes[0],e),i.removeAllRanges(),i.addRange(a))}else this.selectionStart=e,this.selectionEnd=e}},T=function(e,t,n){if("DIV"==this.tagName){if(void 0===e){var e=this.innerText;return this.value&&this.value.length>e.length&&(e=this.value),e}this.innerText!==e&&(this.innerText=e,t&&E.call(this,t,n))}else{if(void 0===e)return this.value;this.value!==e&&(this.value=e,t&&E.call(this,t,n))}},k=e.calendar.weekdays,A=e.calendar.weekdaysShort,M=e.calendar.months,N=e.calendar.monthsShort,O={YEAR:function(e,t){var n=""+new Date().getFullYear();if(void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&10>=parseInt(e)&&this.values[this.index].length<t&&(this.values[this.index]+=e),this.values[this.index].length==t){if(2==t)var n=n.substr(0,2)+this.values[this.index];else if(3==t)var n=n.substr(0,1)+this.values[this.index];else if(4==t)var n=this.values[this.index];this.date[0]=n,this.index++}},YYYY:function(e){O.YEAR.call(this,e,4)},YYY:function(e){O.YEAR.call(this,e,3)},YY:function(e){O.YEAR.call(this,e,2)},FIND:function(e,t){if(x(this.values[this.index])&&(this.values[this.index]=""),this.event&&this.event.inputType&&this.event.inputType.indexOf("delete")>-1){this.values[this.index]+=e;return}for(var n=0,i=0,a=(this.values[this.index]+e).toLowerCase(),o=0;o<t.length;o++)0==t[o].toLowerCase().indexOf(a)&&(n=o,i++);if(i>1)this.values[this.index]+=e;else if(1==i){var r=t[n].length-this.values[this.index].length-1;return this.position+=r,this.values[this.index]=t[n],this.index++,n}},MMM:function(e){var t=O.FIND.call(this,e,N);void 0!==t&&(this.date[1]=t+1)},MON:function(e){O.MMM.call(this,e)},MMMM:function(e){var t=O.FIND.call(this,e,M);void 0!==t&&(this.date[1]=t+1)},MONTH:function(e){O.MMMM.call(this,e)},MMMMM:function(e){x(this.values[this.index])&&(this.values[this.index]="");for(var t=(this.values[this.index]+e).toLowerCase(),n=0;n<M.length;n++)if(0==M[n][0].toLowerCase().indexOf(t)){this.values[this.index]=M[n][0],this.date[1]=n+1,this.index++;break}},MM:function(e){x(this.values[this.index])?parseInt(e)>1&&10>parseInt(e)?(this.date[1]=this.values[this.index]="0"+e,this.index++):2>parseInt(e)&&(this.values[this.index]=e):1==this.values[this.index]&&3>parseInt(e)?(this.date[1]=this.values[this.index]+=e,this.index++):0==this.values[this.index]&&parseInt(e)>0&&10>parseInt(e)&&(this.date[1]=this.values[this.index]+=e,this.index++)},M:function(e){parseInt(e)>=0&&10>parseInt(e)&&(x(this.values[this.index])?(this.values[this.index]=e,e>1&&(this.date[1]=this.values[this.index],this.index++)):1==this.values[this.index]&&3>parseInt(e)?(this.date[1]=this.values[this.index]+=e,this.index++):0==this.values[this.index]&&parseInt(e)>0&&(this.date[1]=this.values[this.index]+=e,this.index++));var t=parseInt(this.values[this.index]);t>0&&t<12&&(this.date[2]=this.values[this.index],this.index++,this.position--)},D:function(e){parseInt(e)>=0&&10>parseInt(e)&&(x(this.values[this.index])?(this.values[this.index]=e,parseInt(e)>3&&(this.date[2]=this.values[this.index],this.index++)):3==this.values[this.index]&&2>parseInt(e)?(this.date[2]=this.values[this.index]+=e,this.index++):1==this.values[this.index]||2==this.values[this.index]?(this.date[2]=this.values[this.index]+=e,this.index++):0==this.values[this.index]&&parseInt(e)>0&&(this.date[2]=this.values[this.index]+=e,this.index++));var t=parseInt(this.values[this.index]);t>0&&t<32&&(this.date[2]=this.values[this.index],this.index++,this.position--)},DD:function(e){x(this.values[this.index])?parseInt(e)>3&&10>parseInt(e)?(this.date[2]=this.values[this.index]="0"+e,this.index++):10>parseInt(e)&&(this.values[this.index]=e):3==this.values[this.index]&&2>parseInt(e)?(this.date[2]=this.values[this.index]+=e,this.index++):(1==this.values[this.index]||2==this.values[this.index])&&10>parseInt(e)?(this.date[2]=this.values[this.index]+=e,this.index++):0==this.values[this.index]&&parseInt(e)>0&&10>parseInt(e)&&(this.date[2]=this.values[this.index]+=e,this.index++)},DDD:function(e){O.FIND.call(this,e,A)},DY:function(e){O.DDD.call(this,e)},DDDD:function(e){O.FIND.call(this,e,k)},DAY:function(e){O.DDDD.call(this,e)},HH12:function(e,t){x(this.values[this.index])?parseInt(e)>1&&10>parseInt(e)?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):10>parseInt(e)&&(this.values[this.index]=e):1==this.values[this.index]&&3>parseInt(e)?(this.date[3]=this.values[this.index]+=e,this.index++):this.values[this.index]<1&&10>parseInt(e)&&(this.date[3]=this.values[this.index]+=e,this.index++)},HH24:function(e,t){parseInt(e)>=0&&10>parseInt(e)&&(null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>2&&10>parseInt(e)?(t&&(e=0+e),this.date[3]=this.values[this.index]=e,this.index++):10>parseInt(e)&&(this.values[this.index]=e):2==this.values[this.index]&&4>parseInt(e)?(this.date[3]=this.values[this.index]+=e,this.index++):this.values[this.index]<2&&10>parseInt(e)&&(this.date[3]=this.values[this.index]+=e,this.index++))},HH:function(e){O.HH24.call(this,e,1)},H:function(e){O.HH24.call(this,e,0)},"\\[H\\]":function(e){void 0==this.values[this.index]&&(this.values[this.index]=""),e.match(/[0-9]/g)?this.date[3]=this.values[this.index]+=e:this.values[this.index].match(/[0-9]/g)&&(this.date[3]=this.values[this.index],this.index++,this.position--)},N60:function(e,t){null==this.values[this.index]||""==this.values[this.index]?parseInt(e)>5&&10>parseInt(e)?(this.date[t]=this.values[this.index]="0"+e,this.index++):10>parseInt(e)&&(this.values[this.index]=e):10>parseInt(e)&&(this.date[t]=this.values[this.index]+=e,this.index++)},MI:function(e){O.N60.call(this,e,4)},SS:function(e){O.N60.call(this,e,5)},"AM/PM":function(e){this.values[this.index]="",e&&(this.date[3]>12?this.values[this.index]="PM":this.values[this.index]="AM"),this.index++},WD:function(e){void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(e)>=0&&7>parseInt(e)&&(this.values[this.index]=e),1==this.value[this.index].length&&this.index++},"0{1}(.{1}0+)?":function(e){var t=_.call(this),n=!1;x(this.values[this.index])?this.values[this.index]="":"-"==this.values[this.index]&&(n=!0);var i=w.call(this,this.values[this.index],t);i&&(this.values[this.index]=i.join(t)),parseInt(e)>=0&&10>parseInt(e)?("0"==this.values[this.index]&&e>0?this.values[this.index]="":"-0"==this.values[this.index]&&e>0&&(this.values[this.index]="-"),("0"!=this.values[this.index]&&"-0"!=this.values[this.index]||e==t)&&(this.values[this.index]+=e)):t&&e==t?-1==this.values[this.index].indexOf(t)&&(this.values[this.index]||(this.values[this.index]="0"),this.values[this.index]+=e):"-"==e&&(n=!0),!0===n&&"-"!==this.values[this.index][0]&&(this.values[this.index]="-"+this.values[this.index])},"0{1}(.{1}0+)?%":function(e){O["0{1}(.{1}0+)?"].call(this,e),this.values[this.index].match(/[\-0-9]/g)?this.values[this.index]&&-1==this.values[this.index].indexOf("%")&&(this.values[this.index]+="%"):this.values[this.index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(e){O["0{1}(.{1}0+)?"].call(this,e);var t=_.call(this),n=this.tokens[this.index].substr(1,1),i="-"===this.values[this.index][0],a=w.call(this,this.values[this.index],t);if(""!==a){var o=a[0].match(/[0-9]/g);if(o){o=o.join("");for(var r=[],s=0,l=o.length-1;l>=0;l--)r.push(o[l]),++s%3||r.push(n);r=r.reverse(),a[0]=r.join(""),a[0].substr(0,1)==n&&(a[0]=a[0].substr(1))}else a[0]="";this.values[this.index]=a.join(t),i&&(this.values[this.index]="-"+this.values[this.index])}},0:function(e){e.match(/[0-9]/g)&&(this.values[this.index]=e,this.index++)},"[0-9a-zA-Z$]+":function(e){x(this.values[this.index])&&(this.values[this.index]="");var t=this.tokens[this.index];t[this.values[this.index].length]==e?(this.values[this.index]+=e,this.values[this.index]==t&&this.index++):(this.values[this.index]=t,this.index++,e.match(/[\-0-9]/g)&&this.position--)},A:function(e){e.match(/[a-zA-Z]/gi)&&(this.values[this.index]=e,this.index++)},".":function(e){O["[0-9a-zA-Z$]+"].call(this,e)},"@":function(e){x(this.values[this.index])&&(this.values[this.index]=""),this.values[this.index]+=e}},D=function(e){if("general"==this.type)var t=[].concat($.general);else var t=[].concat($.currency,$.datetime,$.percentage,$.numeric,$.text,$.general);var n=RegExp(t.join("|"),"gi");return e.match(n)},H=function(e){if(this.type){if("text"==this.type)var t=["text"];else if("general"==this.type)var t=["general"];else if("datetime"==this.type)var t=["numeric","datetime","general"];else var t=["currency","percentage","numeric","general"]}else var t=Object.keys($);for(var n=0;n<t.length;n++)for(var i=t[n],a=0;a<$[i].length;a++){var o=RegExp($[i][a],"gi");if(e.match(o))return{type:i,method:$[i][a]}}},F=function(e){for(var t=[],n=0;n<e.length;n++){var i=H.call(this,e[n]);i?t.push(i.method):t.push(null)}for(var n=0;n<t.length;n++)"MM"==t[n]&&(t[n-1]&&t[n-1].indexOf("H")>=0?t[n]="MI":t[n-2]&&t[n-2].indexOf("H")>=0?t[n]="MI":t[n+1]&&t[n+1].indexOf("S")>=0?t[n]="MI":t[n+2]&&t[n+2].indexOf("S")>=0&&(t[n]="MI"));return t},S=function(e){var t=H.call(this,e);if(t)var n=t.type;if(n){for(var i=0,a=D.call(this,e),o=0;o<a.length;o++)(t=H.call(this,a[o]))&&y(t.type)&&i++;i>1&&(n="general")}return n},I=function(){"function"==typeof O[this.methods[this.index]]?(O[this.methods[this.index]].call(this,this.value[this.position]),this.position++):(this.values[this.index]=this.tokens[this.index],this.index++)},b=function(e){return"="==(""+e)[0]},(R=function(t,n,i){var a=null,o={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if("object"==typeof t){if(o.input=t.target,o.value=T.call(t.target),o.caret=E.call(t.target),(a=t.target.getAttribute("data-mask"))&&(o.mask=a),(a=t.target.getAttribute("data-type"))&&(o.type=a),t.target.mask?(t.target.mask.options&&(o.options=t.target.mask.options),t.target.mask.locale&&(o.locale=t.target.mask.locale)):(a=t.target.getAttribute("data-locale"))&&(o.locale=a,o.mask&&(o.options.style=o.mask)),t.target.attributes&&t.target.attributes.length)for(var r=0;r<t.target.attributes.length;r++){var s=t.target.attributes[r].name,l=t.target.attributes[r].value;"data"==s.substr(0,4)&&(o.options[s.substr(5)]=l)}}else{if("string"==typeof n)o.mask=n;else for(var s=Object.keys(n),r=0;r<s.length;r++)o[s[r]]=n[s[r]];"number"==typeof t&&(_.call(o,o.mask),t=(""+t).replace(".",o.options.decimal)),o.value=t,o.input&&(T.call(o.input,t),e.focus(o.input),o.caret=E.call(o.input))}if(!b(o.value)&&(o.mask||o.locale)){if(o.mask){if(o.mask=o.mask.replace(RegExp(/\[h]/),"|h|"),o.mask=o.mask.replace(RegExp(/\[.*?\]/),""),o.mask=o.mask.replace(RegExp(/\|h\|/),"[h]"),-1!==o.mask.indexOf(";")){var a=o.mask.split(";");o.mask=a[0]}if(-1!==o.mask.indexOf("##")){var d=o.mask.split(";");d[0]&&(d[0]=d[0].replace("*","	"),d[0]=d[0].replace(RegExp(/_-/g)," "),d[0]=d[0].replace(RegExp(/_/g),""),d[0]=d[0].replace("##0.###","##0.000"),d[0]=d[0].replace("##0.##","##0.00"),d[0]=d[0].replace("##0.#","##0.0"),d[0]=d[0].replace("##0,###","##0,000"),d[0]=d[0].replace("##0,##","##0,00"),d[0]=d[0].replace("##0,#","##0,0")),o.mask=d[0]}o.type||(o.type=S.call(o,o.mask)),o.tokens=D.call(o,o.mask)}if("object"!=typeof t||!t.inputType||!t.inputType.indexOf("insert")||!t.inputType.indexOf("delete")){if(o.locale){if(o.input)j.call(o,o.input,t);else var c=L.call(o,o.value)}else{for(o.methods=F.call(o,o.tokens),o.event=t;o.position<o.value.length&&void 0!==o.tokens[o.index];)I.call(o);var c=o.values.join("");if(y(o.type)&&""!==c){for(;void 0!==o.tokens[o.index];){var a=H.call(o,o.tokens[o.index]);a&&"general"==a.type&&(o.values[o.index]=o.tokens[o.index]),o.index++}var u=!0}else var u=!1;if(c=o.values.join(""),o.input){if((a=c.length-o.value.length)>0)var p=o.caret+a;else var p=o.caret;T.call(o.input,c,p,u)}}}if(o.input){var f=null;y(o.type)?(o.number=C.call(o,T.call(o.input)),f="percentage"==o.type?o.number/100:o.number):"datetime"==o.type&&(f=g.call(o),o.date[0]&&o.date[1]&&o.date[2]&&o.input.setAttribute("data-completed",!0)),f&&o.input.setAttribute("data-value",f)}if(void 0!==c)return i?o:c}}).getType=S,R.prepare=function(e,t){return t||(t={}),D.call(t,e)},R.apply=function(e){var t=T.call(e.target);1==e.key.length&&(t+=e.key),T.call(e.target,R(t,e.target.getAttribute("data-mask")))},R.run=function(e,t,n){return R(e,{mask:t,decimal:n})},R.extract=function(t,n,i){if(x(t))return t;if("object"!=typeof n)return s;if((n=Object.assign({},n)).options||(n.options={}),!n.mask&&n.format&&(n.mask=n.format),n.mask){if(-1!==n.mask.indexOf(";")){var a=n.mask.split(";");n.mask=a[0]}n.mask=n.mask.replace(RegExp(/\[h]/),"|h|"),n.mask=n.mask.replace(RegExp(/\[.*?\]/),""),n.mask=n.mask.replace(RegExp(/\|h\|/),"[h]")}_.call(n,n.mask);var o=null;if("percent"==n.type||"percent"==n.options.style?o="percentage":n.mask&&(o=S.call(n,n.mask)),"general"===o){var r=R(t,n,!0);s=t}else if("datetime"===o){if(t instanceof Date)var a=e.calendar.getDateString(s,n.mask);var r=R(t,n,!0);if(e.isNumeric(t))s=t;else var s=m.call(r)}else{var s=C.call(n,t);"percentage"==o&&(s/=100);var r=n}return(r.value=s,!r.type&&o&&(r.type=o),i)?r:s},R.render=function(t,n,i){if(x(t)||"object"!=typeof n)return t;if((n=Object.assign({},n)).options||(n.options={}),!n.mask&&n.format&&(n.mask=n.format),n.mask){if(-1!==n.mask.indexOf(";")){var a=n.mask.split(";");n.mask=a[0]}n.mask=n.mask.replace(RegExp(/\[h]/),"|h|"),n.mask=n.mask.replace(RegExp(/\[.*?\]/),""),n.mask=n.mask.replace(RegExp(/\|h\|/),"[h]")}var o=null;"percent"==n.type||"percent"==n.options.style?o="percentage":n.mask?o=S.call(n,n.mask):t instanceof Date&&(o="datetime");var r=!1;if("datetime"==o||"calendar"==n.type){var a=e.calendar.getDateString(t,n.mask);a&&(t=a),n.mask&&i&&(r=!0)}else if("percentage"==o&&(t*=100),"number"==typeof t){var s,a=null;if(n.mask&&i&&-1===(""+t).indexOf("e")){var l=_.call(n,n.mask);-1!==n.mask.indexOf(l)?(l=(l=""+(l=n.mask.split(l))[1].match(/[0-9]+/g)).length,a=t.toFixed(l)):a=t.toFixed(0)}else if(n.locale&&i){var l=(""+t).split(".");if(n.options){void 0===l[1]&&(l[1]="");var d=l[1].length;if(n.options.minimumFractionDigits>d)for(var c=0;c<n.options.minimumFractionDigits-d;c++)l[1]+="0"}a=l[1].length?l.join("."):l[0];var d=l[1].length;n.options&&n.options.maximumFractionDigits<d&&(a=parseFloat(a).toFixed(n.options.maximumFractionDigits))}else a=(""+ +(s=t)).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,function(e,t,n,i,a){return a<0?t+"0."+Array(1-a-n.length).join(0)+n+i:t+n+i+Array(a-i.length+1).join(0)});null!==a&&(t=a,_.call(n,n.mask),n.options.decimal&&(t=t.replace(".",n.options.decimal)))}else n.mask&&i&&(r=!0);if(r){var u=n.mask.length-t.length;if(u>0)for(var c=0;c<u;c++)t+=" "}if(t=R(t,n),i&&"numeric"===o){var p=n.mask.match(RegExp(/^[0]+$/gm));if(p&&1===p.length){var f=p[0].length;if(f>3)for(t=""+t;t.length<f;)t="0"+t}}return t},R.set=function(e,t){if(t){e.setAttribute("data-mask",t);var n=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(n)}},"undefined"!=typeof document&&document.addEventListener("input",function(e){(e.target.getAttribute("data-mask")||e.target.mask)&&R(e)}),R),e.modal=function(t,n){var i={};i.options={};var a={url:null,onopen:null,onclose:null,onload:null,closed:!1,width:null,height:null,title:null,padding:null,backdrop:!0,icon:null};for(var o in a)n&&n.hasOwnProperty(o)?i.options[o]=n[o]:i.options[o]=a[o];!i.options.title&&t.getAttribute("title")&&(i.options.title=t.getAttribute("title"));for(var r=document.createElement("div");t.children[0];)r.appendChild(t.children[0]);for(i.title=document.createElement("div"),i.title.className="jmodal_title",i.options.icon&&i.title.setAttribute("data-icon",i.options.icon),i.content=document.createElement("div"),i.content.className="jmodal_content",i.content.innerHTML=t.innerHTML;r.children[0];)i.content.appendChild(r.children[0]);if(i.container=document.createElement("div"),i.container.className="jmodal",i.container.appendChild(i.title),i.container.appendChild(i.content),i.options.padding&&(i.content.style.padding=i.options.padding),i.options.width&&(i.container.style.width=i.options.width),i.options.height&&(i.container.style.height=i.options.height),i.options.title){var s=document.createElement("h4");s.innerText=i.options.title,i.title.appendChild(s)}if(t.innerHTML="",t.style.display="none",t.appendChild(i.container),i.options.backdrop){var l=document.createElement("div");l.className="jmodal_backdrop",l.onclick=function(){i.close()},t.appendChild(l)}if(i.open=function(){t.style.display="block";var n=i.container.getBoundingClientRect();e.getWindowWidth()<n.width?(i.container.style.top="",i.container.style.left="",i.container.classList.add("jmodal_fullscreen"),e.animation.slideBottom(i.container,1)):i.options.backdrop&&(l.style.display="block"),"function"==typeof i.options.onopen&&i.options.onopen(t,i)},i.resetPosition=function(){i.container.style.top="",i.container.style.left=""},i.isOpen=function(){return"none"!=t.style.display},i.close=function(){i.isOpen()&&(t.style.display="none",i.options.backdrop&&(l.style.display=""),i.container.classList.remove("jmodal_fullscreen"),"function"==typeof i.options.onclose&&i.options.onclose(t,i))},!e.modal.hasEvents){var d=null;document.addEventListener("keydown",function(e){if(27==e.which)for(var t=document.querySelectorAll(".jmodal"),n=0;n<t.length;n++)t[n].parentNode.modal.close()}),document.addEventListener("mouseup",function(t){var n=e.findElement(t.target,"jmodal");if(n){var i=n.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0])var a=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY;else var a=t.clientX,o=t.clientY;i.width-(a-i.left)<50&&o-i.top<50&&n.parentNode.modal.close()}d&&(d.element.style.cursor="auto",d=null)}),document.addEventListener("mousedown",function(t){var n=e.findElement(t.target,"jmodal");if(n){var i=n.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0])var a=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY;else var a=t.clientX,o=t.clientY;i.width-(a-i.left)<50&&o-i.top<50||o-i.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),d={left:i.left,top:i.top,x:t.clientX,y:t.clientY,width:i.width,height:i.height,element:n})}}),document.addEventListener("mousemove",function(e){if(d){if((e=e||window.event).buttons)var t=e.buttons;else if(e.button)var t=e.button;else var t=e.which;t?(d.element.style.top=d.top+(e.clientY-d.y)+d.height/2+"px",d.element.style.left=d.left+(e.clientX-d.x)+d.width/2+"px",d.element.style.cursor="move"):d.element.style.cursor="auto"}}),e.modal.hasEvents=!0}return i.options.url?e.ajax({url:i.options.url,method:"GET",dataType:"text/html",success:function(e){i.content.innerHTML=e,i.options.closed||i.open(),"function"==typeof i.options.onload&&i.options.onload(i)}}):(i.options.closed||i.open(),"function"==typeof i.options.onload&&i.options.onload(i)),t.modal=i,i},e.notification=function(t){var n={};n.options={};var i={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var a in i)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:n.options[a]=i[a];var o=document.createElement("div");o.className="jnotification",n.options.error&&o.classList.add("jnotification-error");var r=document.createElement("div");r.className="jnotification-container",o.appendChild(r);var s=document.createElement("div");s.className="jnotification-header",r.appendChild(s);var l=document.createElement("div");if(l.className="jnotification-image",s.appendChild(l),n.options.icon){var d=document.createElement("img");d.src=n.options.icon,l.appendChild(d)}var c=document.createElement("div");if(c.className="jnotification-name",c.innerHTML=n.options.name,s.appendChild(c),!0==n.options.closeable){var u=document.createElement("div");u.className="jnotification-close",u.onclick=function(){n.hide()},s.appendChild(u)}var p=document.createElement("div");p.className="jnotification-date",s.appendChild(p);var f=document.createElement("div");if(f.className="jnotification-content",r.appendChild(f),n.options.title){var h=document.createElement("div");h.className="jnotification-title",h.innerHTML=n.options.title,f.appendChild(h)}var v=document.createElement("div");if(v.className="jnotification-message",v.innerHTML=n.options.message,f.appendChild(v),n.show=function(){document.body.appendChild(o),e.getWindowWidth()>800?e.animation.fadeIn(o):e.animation.slideTop(o,1)},n.hide=function(){e.getWindowWidth()>800?e.animation.fadeOut(o,function(){o.parentNode&&(o.parentNode.removeChild(o),$&&clearTimeout($))}):e.animation.slideTop(o,0,function(){o.parentNode&&(o.parentNode.removeChild(o),$&&clearTimeout($))})},n.show(),!0==n.options.autoHide)var $=setTimeout(function(){n.hide()},n.options.timeout);return 800>e.getWindowWidth()&&o.addEventListener("swipeup",function(e){n.hide(),e.preventDefault(),e.stopPropagation()}),n},e.notification.isVisible=function(){var e=document.querySelector(".jnotification");return!!e&&!!e.parentNode},e.palette=(Y={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"],],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"],],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"],],chart:[["#C1D37F","#4C5454","#FFD275","#66586F","#D05D5B","#C96480","#95BF8F","#6EA240","#0F0F0E","#EB8258","#95A3B3","#995D81"],]},(V=function(e){return Y[e]?Y[e]:Y.material}).get=function(e){return Y[e]?Y[e]:Y},V.set=function(e,t){Y[e]=t},V),e.picker=function(t,n){if(t.picker)return t.picker.setOptions(n,!0);var i={type:"picker"};i.options={};var a=null,o=null,r=function(e){return e instanceof Element||e instanceof HTMLDocument},s=function(){o.innerHTML="";for(var e=Object.keys(i.options.data),t=0;t<e.length;t++){var n=document.createElement("div");n.classList.add("jpicker-item"),n.k=e[t],n.v=i.options.data[e[t]];var a=i.getLabel(e[t],n);r(a)?n.appendChild(a):n.innerHTML=a,o.appendChild(n)}};return i.setOptions=function(e,t){var n={value:0,data:null,render:null,onchange:null,onmouseover:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,bottom:!1,content:!1,columns:null,grid:null,height:null};for(var r in e&&e.options&&(e.data=e.options),n)e&&e.hasOwnProperty(r)?i.options[r]=e[r]:(void 0===i.options[r]||!0===t)&&(i.options[r]=n[r]);return!1===i.options.header?a.style.display="none":a.style.display="",i.options.width?a.style.width=parseInt(i.options.width)+"px":a.style.width="",i.options.height?(o.style.maxHeight=i.options.height+"px",o.style.overflow="scroll"):o.style.overflow="",i.options.columns>0&&(i.options.grid?(o.classList.add("jpicker-grid"),o.style.gridTemplateColumns="repeat("+i.options.grid+", 1fr)"):(o.classList.add("jpicker-columns"),o.style.width=i.options.width?i.options.width:36*i.options.columns+"px")),isNaN(i.options.value)&&(i.options.value="0"),s(),i.setValue(i.options.value),i},i.getValue=function(){return i.options.value},i.setValue=function(e){i.setLabel(e),i.options.value=String(e),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value})),"generic"!==o.children[e].getAttribute("type")&&i.close()},i.getLabel=function(e,t){var n=i.options.data[e]||null;return"function"==typeof i.options.render&&(n=i.options.render(n,t)),n},i.setLabel=function(e){var t;r(t=i.options.content?'<i class="material-icons">'+i.options.content+"</i>":i.getLabel(e,null))?(a.innerHTML="",a.appendChild(t)):a.innerHTML=t},i.open=function(){if(!t.classList.contains("jpicker-focus")){e.tracking(i,!0),t.classList.add("jpicker-focus"),t.focus();var n=0,r=0;o.style.marginLeft="";var s=a.getBoundingClientRect(),l=o.getBoundingClientRect();n=window.innerHeight<s.bottom+l.height||i.options.bottom?-1*(l.height+4):s.height+4,!0===i.options.right&&(r=-1*l.width+s.width),l.left+r<0&&(r=r+l.left+10),l.left+l.width>window.innerWidth&&(r=-1*(10+l.left+l.width-window.innerWidth)),o.style.marginTop=parseInt(n)+"px",o.style.marginLeft=parseInt(r)+"px","function"==typeof i.options.onopen&&i.options.onopen(t,i)}},i.close=function(){t.classList.contains("jpicker-focus")&&(t.classList.remove("jpicker-focus"),e.tracking(i,!1),"function"==typeof i.options.onclose&&i.options.onclose(t,i))},t.classList.add("jpicker"),t.setAttribute("tabindex","900"),t.onmousedown=function(e){t.classList.contains("jpicker-focus")||i.open()},(a=document.createElement("div")).classList.add("jpicker-header"),(o=document.createElement("div")).classList.add("jpicker-content"),o.onclick=function(n){var a=e.findElement(n.target,"jpicker-item");a&&a.parentNode===o&&(i.setValue(a.k),"function"==typeof i.options.onchange&&i.options.onchange.call(i,t,i,a.v,a.v,a.k,n))},t.appendChild(a),t.appendChild(o),t.value=n.value||0,i.setOptions(n),"function"==typeof i.options.onload&&i.options.onload(t,i),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.picker=i,i},e.progressbar=function(e,t){var n={};n.options={};var i={value:0,onchange:null,width:null};for(var a in i)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:n.options[a]=i[a];e.classList.add("jprogressbar"),e.setAttribute("tabindex",1),e.setAttribute("data-value",n.options.value);var o=document.createElement("div");o.style.width=n.options.value+"%",o.style.color="#fff",e.appendChild(o),n.options.width&&(e.style.width=n.options.width),n.setValue=function(t){t=parseInt(t),n.options.value=t,o.style.width=t+"%",e.setAttribute("data-value",t+"%"),t<6?e.style.color="#000":e.style.color="#fff",n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t),e.value!=n.options.value&&(e.value=n.options.value,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value}))},n.getValue=function(){return n.options.value};var r=function(t){if(t.which){var i=e.getBoundingClientRect();if(t.changedTouches&&t.changedTouches[0]){var a=t.changedTouches[0].clientX;t.changedTouches[0].clientY}else{var a=t.clientX;t.clientY}n.setValue(Math.round((a-i.left)/i.width*100))}};return"touchstart"in document.documentElement==!0?(e.addEventListener("touchstart",r),e.addEventListener("touchend",r)):(e.addEventListener("mousedown",r),e.addEventListener("mousemove",r)),e.change=n.setValue,e.val=function(e){if(void 0===e)return n.getValue();n.setValue(e)},e.progressbar=n,n},e.rating=function(e,t){if(e.rating)return e.rating.setOptions(t,!0);var n={};return n.options={},n.setOptions=function(t,i){var a={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var o in a)t&&t.hasOwnProperty(o)?n.options[o]=t[o]:(void 0===n.options[o]||!0===i)&&(n.options[o]=a[o]);e.innerHTML="";for(var r=0;r<n.options.number;r++){var s=document.createElement("div");s.setAttribute("data-index",r+1),s.setAttribute("title",n.options.tooltip[r]),e.appendChild(s)}if(n.options.value)for(var r=0;r<n.options.number;r++)r<n.options.value&&e.children[r].classList.add("jrating-selected");return n},n.setValue=function(t){for(var i=0;i<n.options.number;i++)i<t?e.children[i].classList.add("jrating-selected"):(e.children[i].classList.remove("jrating-over"),e.children[i].classList.remove("jrating-selected"));n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t),e.value!=n.options.value&&(e.value=n.options.value,"function"==typeof e.oninput&&e.oninput({type:"input",target:e,value:e.value}))},n.getValue=function(){return n.options.value},n.setOptions(t),e.classList.add("jrating"),e.addEventListener("click",function(e){var t=e.target.getAttribute("data-index");void 0!=t&&(t==n.options.value?n.setValue(0):n.setValue(t))}),e.addEventListener("mouseover",function(t){for(var i=t.target.getAttribute("data-index"),a=0;a<n.options.number;a++)a<i?e.children[a].classList.add("jrating-over"):e.children[a].classList.remove("jrating-over")}),e.addEventListener("mouseout",function(t){for(var i=0;i<n.options.number;i++)e.children[i].classList.remove("jrating-over")}),e.change=n.setValue,e.val=function(e){if(void 0===e)return n.getValue();n.setValue(e)},e.rating=n,n},e.search=function(t,n){if(t.search)return t.search;var i=null,a=function(e){if(e.target.classList.contains("jsearch_item"))var t=e.target;else var t=e.target.parentNode;l.selectIndex(t),e.preventDefault()},o=function(e){if(d.innerHTML="",e.length){t.style.display="block";for(var n=e.length<11?e.length:10,i=0;i<n;i++){if("string"==typeof e[i])var a=e[i],o=e[i];else{var a=e[i].text;!a&&e[i].name&&(a=e[i].name);var o=e[i].value;!o&&e[i].id&&(o=e[i].id)}var r=document.createElement("div");r.setAttribute("data-value",o),r.setAttribute("data-text",a),r.className="jsearch_item",e[i].id&&r.setAttribute("id",e[i].id),l.options.forceSelect&&0==i&&r.classList.add("selected");var s=document.createElement("img");e[i].image?s.src=e[i].image:s.style.display="none",r.appendChild(s);var c=document.createElement("div");c.innerHTML=a,r.appendChild(c),d.appendChild(r)}}else t.style.display=""},r=function(t){if(t!=l.terms){if(l.terms=t,i=l.options.forceSelect?0:null,Array.isArray(l.options.data)){var n=function(e){if("string"==typeof e){if((""+e).toLowerCase().search(t.toLowerCase())>=0)return!0}else for(var n in e)if((""+e[n]).toLowerCase().search(t.toLowerCase())>=0)return!0;return!1};o(l.options.data.filter(function(e){return n(e)}))}else e.ajax({url:l.options.data+t,method:"GET",dataType:"json",success:function(e){o(e)}})}},s=null,l=function(e){s&&clearTimeout(s),s=setTimeout(function(){r(e)},500)};null===n.forceSelect&&(n.forceSelect=!0),l.options={data:n.data||null,input:n.input||null,searchByNode:n.searchByNode||null,onselect:n.onselect||null,forceSelect:n.forceSelect,onbeforesearch:n.onbeforesearch||null},l.selectIndex=function(e){var t=e.getAttribute("id"),n=e.getAttribute("data-text"),i=e.getAttribute("data-value");"function"==typeof l.options.onselect&&l.options.onselect(l,n,i,t),l.close()},l.open=function(){t.style.display="block"},l.close=function(){s&&clearTimeout(s),l.terms="",d.innerHTML="",t.style.display=""},l.isOpened=function(){return!!t.style.display},l.keydown=function(e){l.isOpened()&&("Enter"==e.key?null!==i&&d.children[i]?(l.selectIndex(d.children[i]),e.preventDefault()):l.close():"ArrowUp"===e.key?(null!==i&&d.children[0]&&(d.children[i].classList.remove("selected"),l.options.forceSelect||0!==i?(i=Math.max(0,i-1),d.children[i].classList.add("selected")):i=null),e.preventDefault()):"ArrowDown"===e.key&&(null==i?i=-1:d.children[i].classList.remove("selected"),i<9&&d.children[i+1]&&i++,d.children[i].classList.add("selected"),e.preventDefault()))},l.keyup=function(t){if(!l.options.searchByNode&&l.options.input){if("DIV"===l.options.input.tagName)var n=l.options.input.innerText;else var n=l.options.input.value}else{var i=e.getNode();if(i)var n=i.innerText}if("function"==typeof l.options.onbeforesearch){var a=l.options.onbeforesearch(l,n);if(a)n=a;else if(!1===a)return}l(n)},l.options.input&&(l.options.input.addEventListener("keyup",l.keyup),l.options.input.addEventListener("keydown",l.keydown));var d=document.createElement("div");return d.classList.add("jsearch_container"),d.onmousedown=a,t.appendChild(d),t.classList.add("jsearch"),t.search=l,l},e.slider=function(e,t){var n={};if(n.options={},n.currentImage=null,t&&(n.options=t),e.setAttribute("tabindex","900"),n.options.items=[],!e.classList.contains("jslider")){if(e.classList.add("jslider"),e.classList.add("unselectable"),n.options.height&&(e.style.minHeight=n.options.height),n.options.width&&(e.style.width=n.options.width),n.options.grid){e.classList.add("jslider-grid");var i=e.children.length;i>4&&e.setAttribute("data-total",i-4),e.setAttribute("data-number",i>4?4:i)}var a=document.createElement("div");if(a.classList.add("jslider-counter"),e.children.length>0)for(var o=0;o<e.children.length;o++){n.options.items.push(e.children[o]);var r=document.createElement("div");r.onclick=function(){var e=Array.prototype.slice.call(a.children).indexOf(this);n.show(n.currentImage=n.options.items[e])},a.appendChild(r)}var s=document.createElement("div");s.className="jslider-caption";var l=document.createElement("div"),d=document.createElement("div");d.className="jslider-close",d.innerHTML="",d.onclick=function(){n.close()},l.appendChild(s),l.appendChild(d)}n.updateCounter=function(e){for(var t=0;t<a.children.length;t++)if(a.children[t].classList.contains("jslider-counter-focus")){a.children[t].classList.remove("jslider-counter-focus");break}a.children[e].classList.add("jslider-counter-focus")},n.show=function(t){if(!t)var t=e.children[0];e.classList.add("jslider-focus"),e.classList.remove("jslider-grid"),e.appendChild(l),e.appendChild(a);var i=n.options.items.indexOf(t);n.updateCounter(i);for(var o=0;o<e.children.length;o++)e.children[o].style.display="";t.style.display="block",t.previousElementSibling?e.classList.add("jslider-left"):e.classList.remove("jslider-left"),t.nextElementSibling&&"IMG"==t.nextElementSibling.tagName?e.classList.add("jslider-right"):e.classList.remove("jslider-right"),n.currentImage=t,n.currentImage.offsetHeight>n.currentImage.offsetWidth&&n.currentImage.classList.add("jslider-vertical"),l.children[0].innerText=n.currentImage.getAttribute("title")},n.open=function(){n.show(),"function"==typeof n.options.onopen&&n.options.onopen(e)},n.close=function(){e.classList.remove("jslider-focus"),e.classList.remove("jslider-left"),e.classList.remove("jslider-right"),n.options.grid&&e.classList.add("jslider-grid");for(var t=0;t<e.children.length;t++)e.children[t].style.display="";a.remove(),l.remove(),n.currentImage=null,"function"==typeof n.options.onclose&&n.options.onclose(e)},n.reset=function(){e.innerHTML=""},n.next=function(){var e=n.currentImage.nextElementSibling;e&&"IMG"===e.tagName&&n.show(n.currentImage.nextElementSibling)},n.prev=function(){n.currentImage.previousElementSibling&&n.show(n.currentImage.previousElementSibling)};var c=function(e){if("IMG"==e.target.tagName)n.show(e.target);else if(!e.target.classList.contains("jslider-close")&&!(e.target.parentNode.classList.contains("jslider-counter")||e.target.classList.contains("jslider-counter"))){var t=e.offsetX||e.changedTouches[0].clientX;e.target.clientWidth-t<40?n.next():t<40&&n.prev()}};return"ontouchend"in document.documentElement==!0?e.addEventListener("touchend",c):e.addEventListener("mouseup",c),e.addEventListener("swipeleft",function(e){n.next(),e.preventDefault(),e.stopPropagation()}),e.addEventListener("swiperight",function(e){n.prev(),e.preventDefault(),e.stopPropagation()}),e.addEventListener("keydown",function(e){27==e.which&&n.close()}),e.slider=n,n},e.sorting=function(e,t){var n={};n.options={};var i={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},a=null;for(var o in i)t&&t.hasOwnProperty(o)?n.options[o]=t[o]:n.options[o]=i[o];e.classList.add("jsorting"),e.addEventListener("dragstart",function(t){var i=Array.prototype.indexOf.call(t.target.parentNode.children,t.target);a={element:t.target,o:i,d:i},t.target.style.opacity="0.25","function"==typeof n.options.ondragstart&&n.options.ondragstart(e,t.target,t)}),e.addEventListener("dragover",function(e){if(e.preventDefault(),r(e.target)&&a&&"true"==e.target.getAttribute("draggable")&&a.element!=e.target){if(n.options.direction)var t=e.target.clientWidth/2>e.offsetX;else var t=e.target.clientHeight/2>e.offsetY;t?e.target.parentNode.insertBefore(a.element,e.target):e.target.parentNode.insertBefore(a.element,e.target.nextSibling),a.d=Array.prototype.indexOf.call(e.target.parentNode.children,a.element)}}),e.addEventListener("dragleave",function(e){e.preventDefault()}),e.addEventListener("dragend",function(t){t.preventDefault(),a&&("function"==typeof n.options.ondragend&&n.options.ondragend(e,a.element,t),a.o<a.d?t.target.parentNode.insertBefore(a.element,t.target.parentNode.children[a.o]):t.target.parentNode.insertBefore(a.element,t.target.parentNode.children[a.o].nextSibling),a.element.style.opacity="",a=null)}),e.addEventListener("drop",function(t){t.preventDefault(),a&&a.o!=a.d&&"function"==typeof n.options.ondrop&&n.options.ondrop(e,a.o,a.d,a.element,t.target,t),a.element.style.opacity="",a=null});for(var r=function(e){var t=!1;return function e(n){n.className&&n.classList.contains("jsorting")&&(t=!0),t||e(n.parentNode)}(e),t},s=0;s<e.children.length;s++)e.children[s].hasAttribute("draggable")||e.children[s].setAttribute("draggable","true");return e.val=function(){for(var t=null,n=[],i=0;i<e.children.length;i++)(t=e.children[i].getAttribute("data-id"))&&n.push(t);return n},e},e.tabs=function(t,n){var i={};i.options={};var a={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null,maxWidth:null};for(var o in a)n&&n.hasOwnProperty(o)?i.options[o]=n[o]:i.options[o]=a[o];t.classList.add("jtabs");var r=null,s=null,l=null,d=function(e){i.options.animation&&setTimeout(function(){var t=i.headers.children[e].getBoundingClientRect();"modern"==i.options.palette?(l.style.width=t.width-4+"px",l.style.left=i.headers.children[e].offsetLeft+2+"px"):(l.style.width=t.width+"px",l.style.left=i.headers.children[e].offsetLeft+"px"),"bottom"==i.options.position?l.style.top="0px":l.style.bottom="0px"},150)},c=function(e){"function"==typeof i.headers.scrollTo?i.headers.scrollTo({left:e,behavior:"smooth"}):i.headers.scrollLeft=e,e<=1?r.classList.add("disabled"):r.classList.remove("disabled"),e>=i.headers.scrollWidth-i.headers.offsetWidth?s.classList.add("disabled"):s.classList.remove("disabled"),i.headers.scrollWidth<=i.headers.offsetWidth?(r.style.display="none",s.style.display="none"):(r.style.display="",s.style.display="")};if(i.setBorder=d,i.open=function(e){for(var n=null,a=0;a<i.headers.children.length;a++)i.headers.children[a].classList.contains("jtabs-selected")&&(n=a),i.headers.children[a].classList.remove("jtabs-selected"),i.content.children[a]&&i.content.children[a].classList.remove("jtabs-selected");if(i.headers.children[e].classList.add("jtabs-selected"),i.content.children[e]&&i.content.children[e].classList.add("jtabs-selected"),n!=e&&"function"==typeof i.options.onchange&&i.content.children[e]&&i.options.onchange(t,i,e,i.headers.children[e],i.content.children[e]),!0==i.options.hideHeaders&&i.headers.children.length<3&&!1==i.options.allowCreate)i.headers.parentNode.style.display="none";else{d(e),i.headers.parentNode.style.display="";var o=i.headers.children[e].offsetLeft,r=o+i.headers.children[e].offsetWidth,s=i.headers.scrollLeft,l=s+i.headers.offsetWidth;s<=o&&l>=r||c(o-1)}},i.selectIndex=function(e){var t=Array.prototype.indexOf.call(i.headers.children,e);return t>=0&&i.open(t),t},i.rename=function(e,t){t||(t=prompt("New title",i.headers.children[e].innerText)),i.headers.children[e].innerText=t,i.open(e)},i.create=function(e,n){if("function"==typeof i.options.onbeforecreate){var a=i.options.onbeforecreate(t);if(!1===a)return!1;e=a}var o=i.appendElement(e);return"function"==typeof i.options.oncreate&&i.options.oncreate(t,o),d(),o},i.remove=function(e){return i.deleteElement(e)},i.nextNumber=function(){for(var e=0,t=0;t<i.headers.children.length;t++){var n=i.headers.children[t].innerText.match(/[0-9].*/);n>e&&(e=parseInt(n))}return e?e++:e=1,e},i.deleteElement=function(e){if(!i.headers.children[e])return!1;i.headers.removeChild(i.headers.children[e]),i.content.removeChild(i.content.children[e]),i.open(0),"function"==typeof i.options.ondelete&&i.options.ondelete(t,e)},i.appendElement=function(e,t){if(!e)var e=prompt("Title?","");if(e){var n=document.createElement("div");i.content.appendChild(n);var a=document.createElement("div");return a.innerHTML=e,a.content=n,i.headers.insertBefore(a,i.headers.lastChild),i.options.allowChangePosition&&a.setAttribute("draggable","true"),i.selectIndex(a),"function"==typeof t&&t(n,a),n}},i.getActive=function(){for(var e=0;e<i.headers.children.length;e++)if(i.headers.children[e].classList.contains("jtabs-selected"))return e;return 0},i.updateContent=function(e,t){"string"!=typeof t?t:document.createElement("div").innerHTML=t,i.content.children[e].classList.contains("jtabs-selected")&&t.classList.add("jtabs-selected"),i.content.replaceChild(t,i.content.children[e]),d()},i.updatePosition=function(e,t){e>t?i.content.insertBefore(i.content.children[e],i.content.children[t]):i.content.insertBefore(i.content.children[e],i.content.children[t].nextSibling),i.open(t),"function"==typeof i.options.onchangeposition&&i.options.onchangeposition(i.headers,e,t)},i.move=function(e,t){e>t?i.headers.insertBefore(i.headers.children[e],i.headers.children[t]):i.headers.insertBefore(i.headers.children[e],i.headers.children[t].nextSibling),i.updatePosition(e,t)},i.setBorder=d,i.init=function(){t.innerHTML="",i.headers=document.createElement("div"),i.content=document.createElement("div"),i.headers.classList.add("jtabs-headers"),i.content.classList.add("jtabs-content"),i.options.palette?t.classList.add("jtabs-modern"):t.classList.remove("jtabs-modern"),i.options.padding&&(i.content.style.padding=parseInt(i.options.padding)+"px");var n=document.createElement("div");n.className="jtabs-headers-container",n.appendChild(i.headers),i.options.maxWidth&&(n.style.maxWidth=parseInt(i.options.maxWidth)+"px");var a=document.createElement("div");if(a.className="jtabs-controls",a.setAttribute("draggable","false"),n.appendChild(a),"bottom"==i.options.position?(t.appendChild(i.content),t.appendChild(n)):(t.appendChild(n),t.appendChild(i.content)),!0==i.options.allowCreate){var o=document.createElement("div");o.className="jtabs-add",o.onclick=function(){i.create()},a.appendChild(o)}(r=document.createElement("div")).className="jtabs-prev",r.onclick=function(){c(i.headers.scrollLeft-i.headers.offsetWidth)},a.appendChild(r),(s=document.createElement("div")).className="jtabs-next",s.onclick=function(){c(i.headers.scrollLeft+i.headers.offsetWidth)},a.appendChild(s);for(var d=0;d<i.options.data.length;d++){if(i.options.data[d].titleElement)var u=i.options.data[d].titleElement;else var u=document.createElement("div");if(i.options.data[d].icon){var p=document.createElement("div"),f=document.createElement("i");f.classList.add("material-icons"),f.innerHTML=i.options.data[d].icon,p.appendChild(f),u.appendChild(p)}if(i.options.data[d].title){var h=document.createTextNode(i.options.data[d].title);u.appendChild(h)}if(i.options.data[d].width&&(u.style.width=i.options.data[d].width),i.options.data[d].contentElement)var v=i.options.data[d].contentElement;else{var v=document.createElement("div");v.innerHTML=i.options.data[d].content}i.headers.appendChild(u),i.content.appendChild(v)}(l=document.createElement("div")).className="jtabs-border",i.headers.appendChild(l),i.options.animation&&t.classList.add("jtabs-animation"),i.headers.addEventListener("click",function(e){if(e.target.parentNode.classList.contains("jtabs-headers"))var n=e.target;else if("I"==e.target.tagName)var n=e.target.parentNode.parentNode;else var n=e.target.parentNode;var a=i.selectIndex(n);"function"==typeof i.options.onclick&&i.options.onclick(t,i,a,i.headers.children[a],i.content.children[a])}),i.headers.addEventListener("contextmenu",function(e){i.selectIndex(e.target)}),i.headers.children.length&&i.open(0),c(0),!0==i.options.allowChangePosition&&e.sorting(i.headers,{direction:1,ondrop:function(e,t,n){i.updatePosition(t,n)}}),"function"==typeof i.options.onload&&i.options.onload(t,i)},t.children[0]&&t.children[0].children.length)for(var u=0;u<t.children[0].children.length;u++){var p=i.options.data&&i.options.data[u]?i.options.data[u]:{};t.children[1]&&t.children[1].children[u]?(p.titleElement=t.children[0].children[u],p.contentElement=t.children[1].children[u]):p.contentElement=t.children[0].children[u],i.options.data[u]=p}var f=!1;if(i.options.data)for(var u=0;u<i.options.data.length;u++)i.options.data[u].url&&(e.ajax({url:i.options.data[u].url,type:"GET",dataType:"text/html",index:u,success:function(e){i.options.data[this.index].content=e},complete:function(){i.init()}}),f=!0);return f||i.init(),t.tabs=i,i},e.tags=function(t,n){if(t.tags)return t.tags.setOptions(n,!0);var i={type:"tags"};i.options={};var a=function(){return!!i.options.limit&&t.children.length>=i.options.limit},o=null,r=null;i.setOptions=function(n,a){var s={value:"",limit:null,limitMessage:null,search:null,placeholder:null,validation:null,onbeforepaste:null,onbeforechange:null,onlimit:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null};for(var l in s)n&&n.hasOwnProperty(l)?i.options[l]=n[l]:(void 0===i.options[l]||!0===a)&&(i.options[l]=s[l]);return i.options.placeholder?t.setAttribute("data-placeholder",i.options.placeholder):t.removeAttribute("data-placeholder"),t.placeholder=i.options.placeholder,i.setValue(i.options.value),c(),i.options.search?r||(r=document.createElement("div"),t.parentNode.insertBefore(r,t.nextSibling),o=e.search(r,{data:i.options.search,onselect:function(e,t,n){i.selectIndex(t,n)}})):r&&(o=null,r.remove(),r=null),i},i.add=function(n,r){if("function"==typeof i.options.onbeforechange){var c=i.options.onbeforechange(t,i,i.options.value,n);if(!1===c)return!1;null!=c&&(n=c)}if(o&&o.close(),a())"function"==typeof i.options.onlimit?i.options.onlimit(i,i.options.limit):i.options.limitMessage&&alert(i.options.limitMessage+" "+i.options.limit);else{var u=e.getNode();if(u&&u.parentNode&&u.parentNode.classList.contains("jtags")&&u.nextSibling&&!(u.nextSibling.innerText&&u.nextSibling.innerText.trim()))v=u.nextSibling;else{if(t.lastChild&&!t.lastChild.innerText.trim()&&t.removeChild(t.lastChild),n&&"string"!=typeof n){for(var p=0;p<=n.length;p++)if(!a()){if(n[p]&&"string"!=typeof n[p])var f=n[p].text,h=n[p].value;else var f=n[p]||"",h=null;var v=l(f,h)}}else var v=l(n,n,u);d()}r&&s(v)}},i.setLimit=function(e){for(i.options.limit=e,t.children.length;t.children.length>e;)t.removeChild(t.lastChild)},i.remove=function(e){e.parentNode.removeChild(e),t.children.length?d():i.add("",!0)},i.getData=function(){for(var e=[],n=0;n<t.children.length;n++){var i=t.children[n].innerText.replace("\n",""),a=t.children[n].getAttribute("data-value");a||(a=i),(i||a)&&e.push({text:i,value:a})}return e},i.getValue=function(e){var n=null;if(null!=e)(n=t.children[e].getAttribute("data-value"))||(n=t.children[e].innerText.replace("\n",""));else{for(var a=[],o=0;o<t.children.length;o++)(n=t.children[o].innerText.replace("\n",""))&&a.push(i.getValue(o));n=a.join(",")}return n},i.setValue=function(e){if(e){if(t.value!=e){if(Array.isArray(e))i.add(e);else{var n=p((""+e).trim());t.innerHTML="",i.add(n)}}}else i.reset()},i.reset=function(){t.classList.add("jtags-empty"),t.innerHTML="<div></div>",d()},i.isValid=function(){for(var e=0,n=0;n<t.children.length;n++)t.children[n].classList.contains("jtags_error")&&e++;return 0==e},i.selectIndex=function(t,n){var o=e.getNode();o&&(o.innerText=t,n&&o.setAttribute("data-value",n),o.classList.remove("jtags_error"),a()||i.add("",!0))},i.search=function(e){e.innerText},i.destroy=function(){t.removeEventListener("mouseup",g),t.removeEventListener("keydown",h),t.removeEventListener("keyup",v),t.removeEventListener("paste",$),t.removeEventListener("focus",m),t.removeEventListener("blur",x),t.parentNode.removeChild(t)};var s=function(e){if(t.children.length){var n=document.createRange(),i=window.getSelection();if(!e)var e=t.childNodes[t.childNodes.length-1];n.setStart(e,e.length),n.collapse(!0),i.removeAllRanges(),i.addRange(n),t.scrollLeft=t.scrollWidth}},l=function(e,n,i){var a=document.createElement("div");return a.innerHTML=e||"",n&&a.setAttribute("data-value",n),i&&i.parentNode.classList.contains("jtags")?t.insertBefore(a,i.nextSibling):t.appendChild(a),a},d=function(){var e=i.getValue();e!=i.options.value&&(i.options.value=e,"function"==typeof i.options.onchange&&i.options.onchange(t,i,i.options.value),t.value!=i.options.value&&(t.value=i.options.value,"function"==typeof t.oninput&&t.oninput({type:"input",target:t,value:t.value}))),c()},c=function(){for(var e=0;e<t.children.length;e++)"DIV"===t.children[e].tagName&&(i.getValue(e)?(t.children[e].classList.add("jtags_label"),"function"==typeof i.options.validation&&i.getValue(e)?i.options.validation(t.children[e],t.children[e].innerText,t.children[e].getAttribute("data-value"))?t.children[e].classList.remove("jtags_error"):t.children[e].classList.add("jtags_error"):t.children[e].classList.remove("jtags_error")):t.children[e].classList.remove("jtags_label"));u()},u=function(){t.innerText.trim()?t.classList.remove("jtags-empty"):t.children.length&&"BR"!==t.children[0].tagName||(t.innerHTML="",s(l()))},p=function(e){var t=[],n="";if(e=e.trim()){for(var i=0;i<e.length;i++)","==e[i]||";"==e[i]||"\n"==e[i]?n&&(t.push(n.trim()),n=""):n+=e[i];n&&t.push(n)}return t},f=0,h=function(e){if(f=window.getSelection().anchorOffset,u(),"Tab"===e.key||";"===e.key||","===e.key){var n=window.getSelection().anchorOffset;n>1&&(a()?"function"==typeof i.options.onlimit&&i.options.onlimit(i,i.options.limit):i.add("",!0)),e.preventDefault()}else if("Enter"==e.key){if(!o||!o.isOpened()){var n=window.getSelection().anchorOffset;n>1&&!a()&&i.add("",!0),e.preventDefault()}}else"Backspace"==e.key&&1==t.children.length&&window.getSelection().anchorOffset<1&&e.preventDefault();o&&o.keydown(e),u()},v=function(e){if(39==e.which){var t=window.getSelection().anchorOffset;t>1&&t==f&&i.add("",!0)}else 13==e.which||38==e.which||40==e.which?e.preventDefault():o&&o.keyup(e);c()},$=function(e){if(e.clipboardData||e.originalEvent.clipboardData)var n=(e.originalEvent||e).clipboardData.getData("text/plain");else if(window.clipboardData)var n=window.clipboardData.getData("Text");var a=p(n);if("function"==typeof i.options.onbeforepaste){var o=i.options.onbeforepaste(t,i,a);if(!1===o)return e.preventDefault(),!1;o&&(a=o)}a.length>1?(i.add(a,!0),e.preventDefault()):a[0]&&(document.execCommand("insertText",!1,a[0]),e.preventDefault())},g=function(e){if(e.target.parentNode&&e.target.parentNode.classList.contains("jtags")&&(e.target.classList.contains("jtags_label")||e.target.classList.contains("jtags_error"))){var n=e.target.getBoundingClientRect();n.width-(e.clientX-n.left)<16&&i.remove(e.target)}e.target==t&&s()},m=function(){t.classList.contains("jtags-focus")||((!t.children.length||i.getValue(t.children.length-1))&&!a()&&l(""),"function"==typeof i.options.onfocus&&i.options.onfocus(t,i,i.getValue()),t.classList.add("jtags-focus"))},x=function(){if(t.classList.contains("jtags-focus")){o&&o.close();for(var e=0;e<t.children.length-1;e++)i.getValue(e)||t.removeChild(t.children[e]);d(),t.classList.remove("jtags-focus"),"function"==typeof i.options.onblur&&i.options.onblur(t,i,i.getValue())}};return"touchend"in document.documentElement==!0?t.addEventListener("touchend",g):t.addEventListener("mouseup",g),t.addEventListener("keydown",h),t.addEventListener("keyup",v),t.addEventListener("paste",$),t.addEventListener("focus",m),t.addEventListener("blur",x),t.setAttribute("contenteditable",!0),t.classList.add("jtags"),i.setOptions(n),"function"==typeof i.options.onload&&i.options.onload(t,i),t.change=i.setValue,t.val=function(e){if(void 0===e)return i.getValue();i.setValue(e)},t.tags=i,i},e.toolbar=function(t,n){var i={type:"toolbar"};i.options={};var a={app:null,container:!1,badge:!1,title:!1,responsive:!1,maxWidth:null,bottom:!0,items:[]};for(var o in a)n&&n.hasOwnProperty(o)?i.options[o]=n[o]:i.options[o]=a[o];!t&&n.app&&n.app.el&&(t=document.createElement("div"),n.app.el.appendChild(t));var r=document.createElement("div");r.classList.add("jtoolbar-item"),r.classList.add("jtoolbar-arrow");var s=document.createElement("div");s.classList.add("jtoolbar-floating"),r.appendChild(s),i.selectItem=function(e){for(var t=l.children,n=0;n<t.length;n++)e!=t[n]&&t[n].classList.remove("jtoolbar-selected");e.classList.add("jtoolbar-selected")},i.hide=function(){e.animation.slideBottom(t,0,function(){t.style.display="none"})},i.show=function(){t.style.display="",e.animation.slideBottom(t,1)},i.get=function(){return t},i.setBadge=function(e,t){l.children[e].children[1].firstChild.innerHTML=t},i.destroy=function(){toolbar.remove(),t.innerHTML=""},i.update=function(e,n){for(var a=0;a<l.children.length;a++){var o=l.children[a];"function"==typeof o.updateState&&o.updateState(t,i,o,e,n)}for(var a=0;a<s.children.length;a++){var o=s.children[a];"function"==typeof o.updateState&&o.updateState(t,i,o,e,n)}},i.create=function(n){l.innerHTML="";for(var a=0;a<n.length;a++){var o=document.createElement("div");if(o.classList.add("jtoolbar-item"),n[a].width&&(o.style.width=parseInt(n[a].width)+"px"),n[a].k&&(o.k=n[a].k),n[a].tooltip&&o.setAttribute("title",n[a].tooltip),n[a].id&&o.setAttribute("id",n[a].id),n[a].updateState&&(o.updateState=n[a].updateState),n[a].active&&o.classList.add("jtoolbar-active"),n[a].disabled&&o.classList.add("jtoolbar-disabled"),"select"==n[a].type||"dropdown"==n[a].type)e.picker(o,n[a]);else if("divisor"==n[a].type)o.classList.add("jtoolbar-divisor");else if("label"==n[a].type)o.classList.add("jtoolbar-label"),o.innerHTML=n[a].content;else{var r=document.createElement("i");if(void 0===n[a].class)r.classList.add("material-icons");else for(var s=n[a].class.split(" "),d=0;d<s.length;d++)r.classList.add(s[d]);if(r.innerHTML=n[a].content?n[a].content:"",o.appendChild(r),!0==i.options.badge){var c=document.createElement("div");c.classList.add("jbadge");var u=document.createElement("div");u.innerHTML=n[a].badge?n[a].badge:"",c.appendChild(u),o.appendChild(c)}if(n[a].title){if(!0==i.options.title){var p=document.createElement("span");p.innerHTML=n[a].title,o.appendChild(p)}else o.setAttribute("title",n[a].title)}i.options.app&&n[a].route&&(o.route=n[a].route,o.onclick=function(){i.options.app.pages(this.route)},i.options.app.pages(n[a].route,{toolbarItem:o,closed:!0}))}n[a].onclick&&(o.onclick=n[a].onclick.bind(n[a],t,i,o)),l.appendChild(o)}setTimeout(function(){i.refresh()},0)},i.open=function(){r.classList.add("jtoolbar-arrow-selected"),t.getBoundingClientRect(),s.getBoundingClientRect().bottom>window.innerHeight||i.options.bottom?s.style.bottom="0":s.style.removeProperty("bottom"),s.style.right="0",r.children[0].focus(),e.tracking(i,!0)},i.close=function(){r.classList.remove("jtoolbar-arrow-selected"),e.tracking(i,!1)},i.refresh=function(){if(!0==i.options.responsive){var e=t.parentNode.getBoundingClientRect();i.options.maxWidth||(i.options.maxWidth=e.width);var n=parseInt(i.options.maxWidth);for(r.parentNode&&r.parentNode.removeChild(r);s.firstChild;)l.appendChild(s.firstChild);if(n<l.offsetWidth)for(n-=50;l.lastChild&&n<l.offsetWidth;)s.insertBefore(l.lastChild,s.firstChild);s.children.length>0&&l.appendChild(r)}},i.setReadonly=function(e){e=e?"add":"remove",t.classList[e]("jtoolbar-disabled")},t.onclick=function(t){var n=e.findElement(t.target,"jtoolbar-item");n&&i.selectItem(n),t.target.classList.contains("jtoolbar-arrow")&&i.open()},window.addEventListener("resize",function(){i.refresh()}),t.classList.add("jtoolbar"),t.innerHTML="",!0==i.options.container&&t.classList.add("jtoolbar-container");var l=document.createElement("div");return t.appendChild(l),i.options.app&&t.classList.add("jtoolbar-mobile"),i.create(i.options.items),t.toolbar=i,i},e.validations=(B={between:function(e,t){return e>=t[0]&&e<=t[1]},"not between":function(e,t){return e<t[0]||e>t[1]},"<":function(e,t){return e<t[0]},"<=":function(e,t){return e<=t[0]},">":function(e,t){return e>t[0]},">=":function(e,t){return e>=t[0]},"=":function(e,t){return e==t[0]},"!=":function(e,t){return e!=t[0]}},P={"valid date":function(){return!0},"=":function(e,t){return e===t[0]},"<":function(e,t){return e<t[0]},"<=":function(e,t){return e<=t[0]},">":function(e,t){return e>t[0]},">=":function(e,t){return e>=t[0]},between:function(e,t){return e>=t[0]&&e<=t[1]},"not between":function(e,t){return e<t[0]||e>t[1]}},W={contains:function(e,t){return e.includes(t[0])},"not contains":function(e,t){return!e.includes(t[0])},"begins with":function(e,t){return e.startsWith(t[0])},"ends with":function(e,t){return e.endsWith(t[0])},"=":function(e,t){return e===t[0]},"valid email":function(e){return RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/).test(e)},"valid url":function(e){return RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/ig).test(e)}},(z=function(e,t){return"function"==typeof z[t.type]?!!t.allowBlank&&""===e||z[t.type](e,t):null}).url=function(){return!!RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/ig).test(data)},z.email=function(e){var t=RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!!(e&&t.test(e))},z.required=function(e){return!!e.trim()},z.exist=function(e,t){return!!e.toString()},z["not exist"]=function(e,t){return!e.toString()},z.empty=function(e){return!e.toString()},z.notEmpty=function(e){return!!e.toString()},z.number=function(e,t){if(isNaN(n=e)||null===n||""===n)return!1;if(!t||!t.criteria)return!0;if(!B[t.criteria])return!1;var n,i=t.value.map(function(e){return parseFloat(e)});return B[t.criteria](e,i)},z.login=function(e){var t=RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);return!!(e&&t.test(e))},z.list=function(e,t){var n=typeof e;if("string"!==n&&"number"!==n)return!1;if("string"==typeof t.value[0])var i=t.value[0].split(",");else var i=t.value[0];return i.findIndex(function t(n){return n==e})>-1},z.date=function(e,t){if(new Date(e)=="Invalid Date")return!1;if(!t||!t.criteria)return!0;if(!P[t.criteria])return!1;var n=t.value.map(function(e){return new Date(e).getTime()});return P[t.criteria](new Date(e).getTime(),n)},z.text=function(e,t){return"string"==typeof e&&(!t||!t.criteria||!!W[t.criteria]&&W[t.criteria](e,t.value))},z.textLength=function(e,t){return e=e.toString(),z.number(e.length,t)},z),e});